/*! For license information please see main.fc3bc5f5.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!T.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var c=0;c<e.length;c++){var u=s+x(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+x(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(S);else{var t=r(u);null!==t&&O(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(I),I=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,T=!1,k=null,I=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?_():(T=!1,k=null)}}else T=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){v(A,0)};function D(e){k=e,T||(T=!0,_())}function O(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(I),I=-1):g=!0,O(E,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(xo){var r=xo}Reflect.construct(e,[],t)}else{try{t.call()}catch(xo){r=xo}e.call(t.prototype)}else{try{throw Error()}catch(xo){r=xo}e()}}catch(xo){if(xo&&r&&"string"===typeof xo.stack){for(var i=xo.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case k:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(nt){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Te=null;function ke(e){if(e=Ci(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=Ni(t),Se(e.stateNode,e.type,t))}}function Ie(e){_e?Te?Te.push(e):Te=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Te;if(Te=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==_e||null!==Te)&&(Ne(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Le(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(Qe){this.onError(Qe)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,s,o,a,l){Me=!1,je=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(s(188))}function Ge(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Je(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,et=i.unstable_shouldYield,tt=i.unstable_requestPaint,rt=i.unstable_now,it=i.unstable_getCurrentPriorityLevel,st=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,at=i.unstable_NormalPriority,lt=i.unstable_LowPriority,ct=i.unstable_IdlePriority,ht=null,dt=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/mt|0)|0},pt=Math.log,mt=Math.LN2;var vt=64,yt=4194304;function bt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=bt(a):0!==(s&=o)&&(r=bt(s))}else 0!==(o=n&~i)?r=bt(o):0!==s&&(r=bt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ft(t)),r|=e[n],t&=~i;return r}function Et(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function St(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(){var e=vt;return 0===(4194240&(vt<<=1))&&(vt=64),e}function Tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ct=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,At,Rt,Pt,Dt,Ot=!1,Lt=[],Mt=null,jt=null,Ft=null,Ut=new Map,Vt=new Map,zt=[],Bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vt.delete(t.pointerId)}}function Ht(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ci(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Wt(e){var t=Ii(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Dt(e.priority,(function(){Rt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ci(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Gt(e,t,n){Kt(e)&&n.delete(t)}function Qt(){Ot=!1,null!==Mt&&Kt(Mt)&&(Mt=null),null!==jt&&Kt(jt)&&(jt=null),null!==Ft&&Kt(Ft)&&(Ft=null),Ut.forEach(Gt),Vt.forEach(Gt)}function Yt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qt)))}function $t(e){function t(t){return Yt(t,e)}if(0<Lt.length){Yt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Yt(Mt,e),null!==jt&&Yt(jt,e),null!==Ft&&Yt(Ft,e),Ut.forEach(t),Vt.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Wt(n),null===n.blockedOn&&zt.shift()}var Jt=w.ReactCurrentBatchConfig,Xt=!0;function Zt(e,t,n,r){var i=Ct,s=Jt.transition;Jt.transition=null;try{Ct=1,tn(e,t,n,r)}finally{Ct=i,Jt.transition=s}}function en(e,t,n,r){var i=Ct,s=Jt.transition;Jt.transition=null;try{Ct=4,tn(e,t,n,r)}finally{Ct=i,Jt.transition=s}}function tn(e,t,n,r){if(Xt){var i=rn(e,t,n,r);if(null===i)Xr(e,t,r,nn,n),qt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Ht(Mt,e,t,n,r,i),!0;case"dragenter":return jt=Ht(jt,e,t,n,r,i),!0;case"mouseover":return Ft=Ht(Ft,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ut.set(s,Ht(Ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vt.set(s,Ht(Vt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(qt(e,r),4&t&&-1<Bt.indexOf(e)){for(;null!==i;){var s=Ci(i);if(null!==s&&Nt(s),null===(s=rn(e,t,n,r))&&Xr(e,t,r,nn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Xr(e,t,r,null,n)}}var nn=null;function rn(e,t,n,r){if(nn=null,null!==(e=Ii(e=Ee(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nn=e,null}function sn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(it()){case st:return 1;case ot:return 4;case at:case lt:return 16;case ct:return 536870912;default:return 16}default:return 16}}var on=null,an=null,ln=null;function cn(){if(ln)return ln;var e,t,n=an,r=n.length,i="value"in on?on.value:on.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return ln=i.slice(e,1<t?1-t:void 0)}function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function dn(){return!1}function fn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?hn:dn,this.isPropagationStopped=dn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var pn,mn,gn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yn=fn(vn),bn=j({},vn,{view:0,detail:0}),wn=fn(bn),En=j({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&"mousemove"===e.type?(pn=e.screenX-gn.screenX,mn=e.screenY-gn.screenY):mn=pn=0,gn=e),pn)},movementY:function(e){return"movementY"in e?e.movementY:mn}}),Sn=fn(En),_n=fn(j({},En,{dataTransfer:0})),Tn=fn(j({},bn,{relatedTarget:0})),kn=fn(j({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),In=j({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=fn(In),xn=fn(j({},vn,{data:0})),Nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rn[e])&&!!t[e]}function Dn(){return Pn}var On=j({},bn,{key:function(e){if(e.key){var t=Nn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dn,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=fn(On),Mn=fn(j({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=fn(j({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dn})),Fn=fn(j({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Un=j({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=fn(Un),zn=[9,13,27,32],Bn=u&&"CompositionEvent"in window,qn=null;u&&"documentMode"in document&&(qn=document.documentMode);var Hn=u&&"TextEvent"in window&&!qn,Wn=u&&(!Bn||qn&&8<qn&&11>=qn),Kn=String.fromCharCode(32),Gn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function Zn(e,t,n,r){Ie(r),0<(t=ei(t,"onChange")).length&&(n=new yn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var er=null,tr=null;function nr(e){Kr(e,0)}function rr(e){if(G(xi(e)))return e}function ir(e,t){if("change"===e)return t}var sr=!1;if(u){var or;if(u){var ar="oninput"in document;if(!ar){var lr=document.createElement("div");lr.setAttribute("oninput","return;"),ar="function"===typeof lr.oninput}or=ar}else or=!1;sr=or&&(!document.documentMode||9<document.documentMode)}function cr(){er&&(er.detachEvent("onpropertychange",ur),tr=er=null)}function ur(e){if("value"===e.propertyName&&rr(tr)){var t=[];Zn(t,tr,e,Ee(e)),Re(nr,t)}}function hr(e,t,n){"focusin"===e?(cr(),tr=n,(er=t).attachEvent("onpropertychange",ur)):"focusout"===e&&cr()}function dr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return rr(tr)}function fr(e,t){if("click"===e)return rr(t)}function pr(e,t){if("input"===e||"change"===e)return rr(t)}var mr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function gr(e,t){if(mr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!mr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yr(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function br(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?br(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function wr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Ke){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Sr(e){var t=wr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&br(n.ownerDocument.documentElement,n)){if(null!==r&&Er(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=yr(n,s);var o=yr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _r=u&&"documentMode"in document&&11>=document.documentMode,Tr=null,kr=null,Ir=null,Cr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==Tr||Tr!==Q(r)||("selectionStart"in(r=Tr)&&Er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Ir&&gr(Ir,r)||(Ir=r,0<(r=ei(kr,"onSelect")).length&&(t=new yn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tr)))}function Nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionend:Nr("Transition","TransitionEnd")},Rr={},Pr={};function Dr(e){if(Rr[e])return Rr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pr)return Rr[e]=n[t];return e}u&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Or=Dr("animationend"),Lr=Dr("animationiteration"),Mr=Dr("animationstart"),jr=Dr("transitionend"),Fr=new Map,Ur="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Fr.set(e,t),l(t,[e])}for(var zr=0;zr<Ur.length;zr++){var Br=Ur[zr];Vr(Br.toLowerCase(),"on"+(Br[0].toUpperCase()+Br.slice(1)))}Vr(Or,"onAnimationEnd"),Vr(Lr,"onAnimationIteration"),Vr(Mr,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Wr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Wr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Wr(i,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Gr(e,t){var n=t[_i];void 0===n&&(n=t[_i]=new Set);var r=e+"__bubble";n.has(r)||(Jr(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),Jr(n,e,r,t)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Yr]){e[Yr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Hr.has(t)||Qr(t,!1,e),Qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yr]||(t[Yr]=!0,Qr("selectionchange",!1,t))}}function Jr(e,t,n,r){switch(sn(t)){case 1:var i=Zt;break;case 4:i=en;break;default:i=tn}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Ii(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=Ee(n),o=[];e:{var a=Fr.get(e);if(void 0!==a){var l=yn,c=e;switch(e){case"keypress":if(0===un(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":c="focus",l=Tn;break;case"focusout":c="blur",l=Tn;break;case"beforeblur":case"afterblur":l=Tn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Or:case Lr:case Mr:l=kn;break;case jr:l=Fn;break;case"scroll":l=wn;break;case"wheel":l=Vn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Zr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!Ii(c)&&!c[Si])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ii(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Sn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:xi(l),f=null==c?a:xi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,Ii(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=ti(f))p++;for(f=0,m=d;m;m=ti(m))f++;for(;0<p-f;)u=ti(u),p--;for(;0<f-p;)d=ti(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=ti(u),d=ti(d)}u=null}else u=null;null!==l&&ni(o,a,l,u,!1),null!==c&&null!==h&&ni(o,h,c,u,!0)}if("select"===(l=(a=r?xi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=ir;else if(Xn(a))if(sr)g=pr;else{g=dr;var v=hr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=fr);switch(g&&(g=g(e,r))?Zn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xi(r):window,e){case"focusin":(Xn(v)||"true"===v.contentEditable)&&(Tr=v,kr=r,Ir=null);break;case"focusout":Ir=kr=Tr=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,xr(o,n,i);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Bn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $n?Qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Wn&&"ko"!==n.locale&&($n||"onCompositionStart"!==b?"onCompositionEnd"===b&&$n&&(y=cn()):(an="value"in(on=i)?on.value:on.textContent,$n=!0)),0<(v=ei(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Yn(n))&&(b.data=y))),(y=Hn?function(e,t){switch(e){case"compositionend":return Yn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Kn);case"textInput":return(e=t.data)===Kn&&Gn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Bn&&Qn(e,t)?(e=cn(),ln=an=on=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ei(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Kr(o,t)}))}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ei(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Zr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Zr(e,s,i))),e=e.return}return r}function ti(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ni(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,s))&&o.unshift(Zr(n,l,a)):i||null!=(l=Pe(n,s))&&o.push(Zr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ri=/\r\n?/g,ii=/\u0000|\uFFFD/g;function si(e){return("string"===typeof e?e:""+e).replace(ri,"\n").replace(ii,"")}function oi(e,t,n){if(t=si(t),si(e)!==t&&n)throw Error(s(425))}function ai(){}var li=null,ci=null;function ui(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hi="function"===typeof setTimeout?setTimeout:void 0,di="function"===typeof clearTimeout?clearTimeout:void 0,fi="function"===typeof Promise?Promise:void 0,pi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof fi?function(e){return fi.resolve(null).then(e).catch(mi)}:hi;function mi(e){setTimeout((function(){throw e}))}function gi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);$t(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function yi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),wi="__reactFiber$"+bi,Ei="__reactProps$"+bi,Si="__reactContainer$"+bi,_i="__reactEvents$"+bi,Ti="__reactListeners$"+bi,ki="__reactHandles$"+bi;function Ii(e){var t=e[wi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Si]||n[wi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yi(e);null!==e;){if(n=e[wi])return n;e=yi(e)}return t}n=(e=n).parentNode}return null}function Ci(e){return!(e=e[wi]||e[Si])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ni(e){return e[Ei]||null}var Ai=[],Ri=-1;function Pi(e){return{current:e}}function Di(e){0>Ri||(e.current=Ai[Ri],Ai[Ri]=null,Ri--)}function Oi(e,t){Ri++,Ai[Ri]=e.current,e.current=t}var Li={},Mi=Pi(Li),ji=Pi(!1),Fi=Li;function Ui(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zi(){Di(ji),Di(Mi)}function Bi(e,t,n){if(Mi.current!==Li)throw Error(s(168));Oi(Mi,t),Oi(ji,n)}function qi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return j({},n,r)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Fi=Mi.current,Oi(Mi,e),Oi(ji,ji.current),!0}function Wi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=qi(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Di(ji),Di(Mi),Oi(Mi,e)):Di(ji),Oi(ji,n)}var Ki=null,Gi=!1,Qi=!1;function Yi(e){null===Ki?Ki=[e]:Ki.push(e)}function $i(){if(!Qi&&null!==Ki){Qi=!0;var e=0,t=Ct;try{var n=Ki;for(Ct=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ki=null,Gi=!1}catch(i){throw null!==Ki&&(Ki=Ki.slice(e+1)),Xe(st,$i),i}finally{Ct=t,Qi=!1}}return null}var Ji=[],Xi=0,Zi=null,es=0,ts=[],ns=0,rs=null,is=1,ss="";function os(e,t){Ji[Xi++]=es,Ji[Xi++]=Zi,Zi=e,es=t}function as(e,t,n){ts[ns++]=is,ts[ns++]=ss,ts[ns++]=rs,rs=e;var r=is;e=ss;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var s=32-ft(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,is=1<<32-ft(t)+i|n<<i|r,ss=s+e}else is=1<<s|n<<i|r,ss=e}function ls(e){null!==e.return&&(os(e,1),as(e,1,0))}function cs(e){for(;e===Zi;)Zi=Ji[--Xi],Ji[Xi]=null,es=Ji[--Xi],Ji[Xi]=null;for(;e===rs;)rs=ts[--ns],ts[ns]=null,ss=ts[--ns],ts[ns]=null,is=ts[--ns],ts[ns]=null}var us=null,hs=null,ds=!1,fs=null;function ps(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ms(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,us=e,hs=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,us=e,hs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==rs?{id:is,overflow:ss}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,us=e,hs=null,!0);default:return!1}}function gs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function vs(e){if(ds){var t=hs;if(t){var n=t;if(!ms(e,t)){if(gs(e))throw Error(s(418));t=vi(n.nextSibling);var r=us;t&&ms(e,t)?ps(r,n):(e.flags=-4097&e.flags|2,ds=!1,us=e)}}else{if(gs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ds=!1,us=e}}}function ys(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;us=e}function bs(e){if(e!==us)return!1;if(!ds)return ys(e),ds=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ui(e.type,e.memoizedProps)),t&&(t=hs)){if(gs(e))throw ws(),Error(s(418));for(;t;)ps(e,t),t=vi(t.nextSibling)}if(ys(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){hs=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}hs=null}}else hs=us?vi(e.stateNode.nextSibling):null;return!0}function ws(){for(var e=hs;e;)e=vi(e.nextSibling)}function Es(){hs=us=null,ds=!1}function Ss(e){null===fs?fs=[e]:fs.push(e)}var _s=w.ReactCurrentBatchConfig;function Ts(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Is(e){return(0,e._init)(e._payload)}function Cs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Is(s)===t.type)?((r=i(t,n.props)).ref=Ts(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=Ts(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=Ts(e,null,t),n.return=e,n;case S:return(t=Qc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Wc(t,e.mode,n,null)).return=e,t;ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);ks(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);ks(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),ds&&os(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return ds&&os(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),ds&&os(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),ds&&os(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return ds&&os(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),ds&&os(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===_){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Is(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ts(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===_?((s=Wc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Hc(o.type,o.key,o.props,null,r.mode,l)).ref=Ts(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Qc(o,r.mode,l)).return=r,r=s}return a(r);case P:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);ks(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Gc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var xs=Cs(!0),Ns=Cs(!1),As=Pi(null),Rs=null,Ps=null,Ds=null;function Os(){Ds=Ps=Rs=null}function Ls(e){var t=As.current;Di(As),e._currentValue=t}function Ms(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Rs=e,Ds=Ps=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Na=!0),e.firstContext=null)}function Fs(e){var t=e._currentValue;if(Ds!==e)if(e={context:e,memoizedValue:t,next:null},null===Ps){if(null===Rs)throw Error(s(308));Ps=e,Rs.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Us=null;function Vs(e){null===Us?Us=[e]:Us.push(e)}function zs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Vs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Bs(e,r)}function Bs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qs=!1;function Hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ws(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Fl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Bs(e,n)}return null===(i=r.interleaved)?(t.next=t,Vs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Bs(e,n)}function Qs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}function Ys(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $s(e,t,n,r){var i=e.updateQueue;qs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:qs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Kl|=o,e.lanes=o,e.memoizedState=h}}function Js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Xs={},Zs=Pi(Xs),eo=Pi(Xs),to=Pi(Xs);function no(e){if(e===Xs)throw Error(s(174));return e}function ro(e,t){switch(Oi(to,t),Oi(eo,e),Oi(Zs,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Di(Zs),Oi(Zs,t)}function io(){Di(Zs),Di(eo),Di(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(Oi(eo,e),Oi(Zs,n))}function oo(e){eo.current===e&&(Di(Zs),Di(eo))}var ao=Pi(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,bo=!1,wo=0,Eo=0;function So(){throw Error(s(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ca:ua,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ha,e=n(r,i)}while(bo)}if(ho.current=la,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function ko(){var e=0!==wo;return wo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function No(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,Kl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,mr(r,t.memoizedState)||(Na=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Kl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);mr(o,t.memoizedState)||(Na=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=mo,r=Co(),i=t(),o=!mr(r.memoizedState,i);if(o&&(r.memoizedState=i,Na=!0),r=r.queue,Ko(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Vo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Ul)throw Error(s(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){jo(t)&&Fo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch(Ke){return!0}}function Fo(e){var t=Bs(e,1);null!==t&&dc(t,e,1,-1)}function Uo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ia.bind(null,mo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function qo(e,t,n,r){var i=Io();mo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,s,r))}mo.flags|=e,i.memoizedState=Vo(1|t,n,s,r)}function Wo(e,t){return qo(8390656,8,e,t)}function Ko(e,t){return Ho(2048,8,e,t)}function Go(e,t){return Ho(4,2,e,t)}function Qo(e,t){return Ho(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,Yo.bind(null,t,e),n)}function Jo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ea(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,Na=!0),e.memoizedState=n):(mr(n,t)||(n=_t(),mo.lanes|=n,Kl|=n,e.baseState=!0),t)}function ta(e,t){var n=Ct;Ct=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{Ct=n,fo.transition=r}}function na(){return Co().memoizedState}function ra(e,t,n){var r=hc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sa(e))oa(t,n);else if(null!==(n=zs(e,t,n,r))){dc(n,e,r,uc()),aa(n,t,r)}}function ia(e,t,n){var r=hc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sa(e))oa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,mr(a,o)){var l=t.interleaved;return null===l?(i.next=i,Vs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(xo){}null!==(n=zs(e,t,i,r))&&(dc(n,e,r,i=uc()),aa(n,t,r))}}function sa(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function oa(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}var la={readContext:Fs,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ca={readContext:Fs,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Fs,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ra.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Uo,useDebugValue:Jo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=ta.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Io();if(ds){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ul)throw Error(s(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ul.identifierPrefix;if(ds){var n=ss;t=":"+t+"R"+(n=(is&~(1<<32-ft(is)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Eo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:Fs,useCallback:Xo,useContext:Fs,useEffect:Ko,useImperativeHandle:$o,useInsertionEffect:Go,useLayoutEffect:Qo,useMemo:Zo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(No)},useDebugValue:Jo,useDeferredValue:function(e){return ea(Co(),go.memoizedState,e)},useTransition:function(){return[Ao(No)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:na,unstable_isNewReconciler:!1},ha={readContext:Fs,useCallback:Xo,useContext:Fs,useEffect:Ko,useImperativeHandle:$o,useInsertionEffect:Go,useLayoutEffect:Qo,useMemo:Zo,useReducer:Ro,useRef:Bo,useState:function(){return Ro(No)},useDebugValue:Jo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:ea(t,go.memoizedState,e)},useTransition:function(){return[Ro(No)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:na,unstable_isNewReconciler:!1};function da(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uc(),i=hc(e),s=Ks(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Gs(e,s,i))&&(dc(t,e,i,r),Qs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uc(),i=hc(e),s=Ks(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Gs(e,s,i))&&(dc(t,e,i,r),Qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uc(),r=hc(e),i=Ks(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Gs(e,i,r))&&(dc(t,e,r,n),Qs(t,e,r))}};function ma(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!gr(n,r)||!gr(i,s))}function ga(e,t,n){var r=!1,i=Li,s=t.contextType;return"object"===typeof s&&null!==s?s=Fs(s):(i=Vi(t)?Fi:Mi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ui(e,i):Li),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Fs(s):(s=Vi(t)?Fi:Mi.current,i.context=Ui(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(fa(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),$s(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ba(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(Ye){i="\nError generating stack: "+Ye.message+"\n"+Ye.stack}return{value:e,source:t,stack:i,digest:null}}function wa(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Ea(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Sa="function"===typeof WeakMap?WeakMap:Map;function _a(e,t,n){(n=Ks(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ec||(ec=!0,tc=r),Ea(0,t)},n}function Ta(e,t,n){(n=Ks(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ea(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){Ea(0,t),"function"!==typeof r&&(null===nc?nc=new Set([this]):nc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ka(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Sa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lc.bind(null,e,t,n),t.then(e,e))}function Ia(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ca(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ks(-1,1)).tag=2,Gs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xa=w.ReactCurrentOwner,Na=!1;function Aa(e,t,n,r){t.child=null===e?Ns(t,null,n,r):xs(t,e.child,n,r)}function Ra(e,t,n,r,i){n=n.render;var s=t.ref;return js(t,i),r=To(e,t,n,r,s,i),n=ko(),null===e||Na?(ds&&n&&ls(t),t.flags|=1,Aa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,el(e,t,i))}function Pa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Da(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:gr)(o,r)&&e.ref===t.ref)return el(e,t,i)}return t.flags|=1,(e=qc(s,r)).ref=t.ref,e.return=t,t.child=e}function Da(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(gr(s,r)&&e.ref===t.ref){if(Na=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,el(e,t,i);0!==(131072&e.flags)&&(Na=!0)}}return Ma(e,t,n,r,i)}function Oa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(ql,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oi(ql,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Oi(ql,Bl),Bl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Oi(ql,Bl),Bl|=r;return Aa(e,t,i,n),t.child}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,n,r,i){var s=Vi(n)?Fi:Mi.current;return s=Ui(t,s),js(t,i),n=To(e,t,n,r,s,i),r=ko(),null===e||Na?(ds&&r&&ls(t),t.flags|=1,Aa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,el(e,t,i))}function ja(e,t,n,r,i){if(Vi(n)){var s=!0;Hi(t)}else s=!1;if(js(t,i),null===t.stateNode)Za(e,t),ga(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fs(c):c=Ui(t,c=Vi(n)?Fi:Mi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&va(t,o,r,c),qs=!1;var d=t.memoizedState;o.state=d,$s(t,r,o,i),l=t.memoizedState,a!==r||d!==l||ji.current||qs?("function"===typeof u&&(fa(t,n,u,r),l=t.memoizedState),(a=qs||ma(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ws(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:da(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fs(l):l=Ui(t,l=Vi(n)?Fi:Mi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&va(t,o,r,l),qs=!1,d=t.memoizedState,o.state=d,$s(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||ji.current||qs?("function"===typeof f&&(fa(t,n,f,r),p=t.memoizedState),(c=qs||ma(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Fa(e,t,n,r,s,i)}function Fa(e,t,n,r,i,s){La(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Wi(t,n,!1),el(e,t,s);r=t.stateNode,xa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,a,s)):Aa(e,t,a,s),t.memoizedState=r.state,i&&Wi(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?Bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Bi(0,t.context,!1),ro(e,t.containerInfo)}function Va(e,t,n,r,i){return Es(),Ss(i),t.flags|=256,Aa(e,t,n,r),t.child}var za,Ba,qa,Ha,Wa={dehydrated:null,treeContext:null,retryLane:0};function Ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ga(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Oi(ao,1&o),null===e)return vs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Kc(l,i,0,null),e=Wc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ka(n),t.memoizedState=Wa,e):Qa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ya(e,t,a,r=wa(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Kc({mode:"visible",children:r.children},i,0,null),(o=Wc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,a),t.child.memoizedState=Ka(a),t.memoizedState=Wa,o);if(0===(1&t.mode))return Ya(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ya(e,t,a,r=wa(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),Na||l){if(null!==(r=Ul)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Bs(e,i),dc(r,e,i,-1))}return kc(),Ya(e,t,a,r=wa(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,hs=vi(i.nextSibling),us=t,ds=!0,fs=null,null!==e&&(ts[ns++]=is,ts[ns++]=ss,ts[ns++]=rs,is=e.id,ss=e.overflow,rs=t),t=Qa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=qc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=qc(r,a):(a=Wc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ka(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Wa,i}return e=(a=e.child).sibling,i=qc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Qa(e,t){return(t=Kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ya(e,t,n,r){return null!==r&&Ss(r),xs(t,e.child,null,n),(e=Qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ms(e.return,t,n)}function Ja(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Xa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Aa(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oi(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ja(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ja(t,!0,n,null,s);break;case"together":Ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function el(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Kl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function tl(e,t){if(!ds)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(cs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(t),null;case 1:case 17:return Vi(t.type)&&zi(),nl(t),null;case 3:return r=t.stateNode,io(),Di(ji),Di(Mi),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(bs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==fs&&(gc(fs),fs=null))),Ba(e,t),nl(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)qa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=no(Zs.current),bs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[wi]=t,r[Ei]=o,e=0!==(1&t.mode),n){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(i=0;i<qr.length;i++)Gr(qr[i],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":$(r,o),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Gr("invalid",r);break;case"textarea":ie(r,o),Gr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Gr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ai)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[wi]=t,e[Ei]=r,za(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Gr("cancel",e),Gr("close",e),i=r;break;case"iframe":case"object":case"embed":Gr("load",e),i=r;break;case"video":case"audio":for(i=0;i<qr.length;i++)Gr(qr[i],e);i=r;break;case"source":Gr("error",e),i=r;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),i=r;break;case"details":Gr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Gr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Gr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Gr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Gr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ai)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return nl(t),null;case 6:if(e&&null!=t.stateNode)Ha(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[wi]=t,(o=r.nodeValue!==n)&&null!==(e=us))switch(e.tag){case 3:oi(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oi(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[wi]=t,t.stateNode=r}return nl(t),null;case 13:if(Di(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ds&&null!==hs&&0!==(1&t.mode)&&0===(128&t.flags))ws(),Es(),t.flags|=98560,o=!1;else if(o=bs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[wi]=t}else Es(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else null!==fs&&(gc(fs),fs=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Hl&&(Hl=3):kc())),null!==t.updateQueue&&(t.flags|=4),nl(t),null);case 4:return io(),Ba(e,t),null===e&&$r(t.stateNode.containerInfo),nl(t),null;case 10:return Ls(t.type._context),nl(t),null;case 19:if(Di(ao),null===(o=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)tl(o,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,tl(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oi(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&rt()>Xl&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ds)return nl(t),null}else 2*rt()-o.renderingStartTime>Xl&&1073741824!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rt(),t.sibling=null,n=ao.current,Oi(ao,r?1&n|2:1&n),t):(nl(t),null);case 22:case 23:return Ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function il(e,t){switch(cs(t),t.tag){case 1:return Vi(t.type)&&zi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Di(ji),Di(Mi),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Di(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));Es()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Di(ao),null;case 4:return io(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return Ec(),null;default:return null}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},qa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ai)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Gr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ha=function(e,t,n,r){n!==r&&(t.flags|=4)};var sl=!1,ol=!1,al="function"===typeof WeakSet?WeakSet:Set,ll=null;function cl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Ke){Oc(e,t,Ke)}else n.current=null}function ul(e,t,n){try{n()}catch(Ke){Oc(e,t,Ke)}}var hl=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&ul(t,n,s)}i=i.next}while(i!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ml(e){var t=e.alternate;null!==t&&(e.alternate=null,ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[wi],delete t[Ei],delete t[_i],delete t[Ti],delete t[ki])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gl(e){return 5===e.tag||3===e.tag||4===e.tag}function vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ai));else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}var wl=null,El=!1;function Sl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(dt&&"function"===typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ht,n)}catch($e){}switch(n.tag){case 5:ol||cl(n,t);case 6:var r=wl,i=El;wl=null,Sl(e,t,n),El=i,null!==(wl=r)&&(El?(e=wl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):wl.removeChild(n.stateNode));break;case 18:null!==wl&&(El?(e=wl,n=n.stateNode,8===e.nodeType?gi(e.parentNode,n):1===e.nodeType&&gi(e,n),$t(e)):gi(wl,n.stateNode));break;case 4:r=wl,i=El,wl=n.stateNode.containerInfo,El=!0,Sl(e,t,n),wl=r,El=i;break;case 0:case 11:case 14:case 15:if(!ol&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&ul(n,t,o),i=i.next}while(i!==r)}Sl(e,t,n);break;case 1:if(!ol&&(cl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch($e){Oc(n,t,$e)}Sl(e,t,n);break;case 21:Sl(e,t,n);break;case 22:1&n.mode?(ol=(r=ol)||null!==n.memoizedState,Sl(e,t,n),ol=r):Sl(e,t,n);break;default:Sl(e,t,n)}}function Tl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new al),t.forEach((function(t){var r=Fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:wl=l.stateNode,El=!1;break e;case 3:case 4:wl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===wl)throw Error(s(160));_l(o,a,i),wl=null,El=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(xo){Oc(i,t,xo)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Il(t,e),t=t.sibling}function Il(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Cl(e),4&r){try{dl(3,e,e.return),fl(3,e)}catch(g){Oc(e,e.return,g)}try{dl(5,e,e.return)}catch(g){Oc(e,e.return,g)}}break;case 1:kl(t,e),Cl(e),512&r&&null!==n&&cl(n,n.return);break;case 5:if(kl(t,e),Cl(e),512&r&&null!==n&&cl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Oc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ei]=o}catch(g){Oc(e,e.return,g)}}break;case 6:if(kl(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Oc(e,e.return,g)}}break;case 3:if(kl(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(g){Oc(e,e.return,g)}break;case 4:default:kl(t,e),Cl(e);break;case 13:kl(t,e),Cl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Jl=rt())),4&r&&Tl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(ol=(u=ol)||h,kl(t,e),ol=u):kl(t,e),Cl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(ll=e,h=e.child;null!==h;){for(d=ll=h;null!==ll;){switch(p=(f=ll).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:cl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Oc(r,n,g)}}break;case 5:cl(f,f.return);break;case 22:if(null!==f.memoizedState){Rl(d);continue}}null!==p?(p.return=f,ll=p):Rl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Oc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Oc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kl(t,e),Cl(e),4&r&&Tl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(gl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),bl(e,vl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;yl(e,vl(e),o);break;default:throw Error(s(161))}}catch(ut){Oc(e,e.return,ut)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){ll=e,Nl(e,t,n)}function Nl(e,t,n){for(var r=0!==(1&e.mode);null!==ll;){var i=ll,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||sl;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||ol;a=sl;var c=ol;if(sl=o,(ol=l)&&!c)for(ll=i;null!==ll;)l=(o=ll).child,22===o.tag&&null!==o.memoizedState?Pl(i):null!==l?(l.return=o,ll=l):Pl(i);for(;null!==s;)ll=s,Nl(s,t,n),s=s.sibling;ll=i,sl=a,ol=c}Al(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,ll=s):Al(e)}}function Al(e){for(;null!==ll;){var t=ll;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ol||fl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ol)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:da(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Js(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Js(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&$t(d)}}}break;default:throw Error(s(163))}ol||512&t.flags&&pl(t)}catch(ze){Oc(t,t.return,ze)}}if(t===e){ll=null;break}if(null!==(n=t.sibling)){n.return=t.return,ll=n;break}ll=t.return}}function Rl(e){for(;null!==ll;){var t=ll;if(t===e){ll=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ll=n;break}ll=t.return}}function Pl(e){for(;null!==ll;){var t=ll;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(ut){Oc(t,n,ut)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(ut){Oc(t,i,ut)}}var s=t.return;try{pl(t)}catch(ut){Oc(t,s,ut)}break;case 5:var o=t.return;try{pl(t)}catch(ut){Oc(t,o,ut)}}}catch(ut){Oc(t,t.return,ut)}if(t===e){ll=null;break}var a=t.sibling;if(null!==a){a.return=t.return,ll=a;break}ll=t.return}}var Dl,Ol=Math.ceil,Ll=w.ReactCurrentDispatcher,Ml=w.ReactCurrentOwner,jl=w.ReactCurrentBatchConfig,Fl=0,Ul=null,Vl=null,zl=0,Bl=0,ql=Pi(0),Hl=0,Wl=null,Kl=0,Gl=0,Ql=0,Yl=null,$l=null,Jl=0,Xl=1/0,Zl=null,ec=!1,tc=null,nc=null,rc=!1,ic=null,sc=0,oc=0,ac=null,lc=-1,cc=0;function uc(){return 0!==(6&Fl)?rt():-1!==lc?lc:lc=rt()}function hc(e){return 0===(1&e.mode)?1:0!==(2&Fl)&&0!==zl?zl&-zl:null!==_s.transition?(0===cc&&(cc=_t()),cc):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:sn(e.type)}function dc(e,t,n,r){if(50<oc)throw oc=0,ac=null,Error(s(185));kt(e,n,r),0!==(2&Fl)&&e===Ul||(e===Ul&&(0===(2&Fl)&&(Gl|=n),4===Hl&&vc(e,zl)),fc(e,r),1===n&&0===Fl&&0===(1&t.mode)&&(Xl=rt()+500,Gi&&$i()))}function fc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ft(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=Et(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=wt(e,e===Ul?zl:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Gi=!0,Yi(e)}(yc.bind(null,e)):Yi(yc.bind(null,e)),pi((function(){0===(6&Fl)&&$i()})),n=null;else{switch(xt(r)){case 1:n=st;break;case 4:n=ot;break;case 16:default:n=at;break;case 536870912:n=ct}n=Uc(n,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pc(e,t){if(lc=-1,cc=0,0!==(6&Fl))throw Error(s(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var r=wt(e,e===Ul?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ic(e,r);else{t=r;var i=Fl;Fl|=2;var o=Tc();for(Ul===e&&zl===t||(Zl=null,Xl=rt()+500,Sc(e,t));;)try{xc();break}catch($e){_c(e,$e)}Os(),Ll.current=o,Fl=i,null!==Vl?t=0:(Ul=null,zl=0,t=Hl)}if(0!==t){if(2===t&&(0!==(i=St(e))&&(r=i,t=mc(e,i))),1===t)throw n=Wl,Sc(e,0),vc(e,r),fc(e,rt()),n;if(6===t)vc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mr(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Ic(e,r))&&(0!==(o=St(e))&&(r=o,t=mc(e,o))),1===t))throw n=Wl,Sc(e,0),vc(e,r),fc(e,rt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Rc(e,$l,Zl);break;case 3:if(vc(e,r),(130023424&r)===r&&10<(t=Jl+500-rt())){if(0!==wt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){uc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hi(Rc.bind(null,e,$l,Zl),t);break}Rc(e,$l,Zl);break;case 4:if(vc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ft(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=rt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ol(r/1960))-r)){e.timeoutHandle=hi(Rc.bind(null,e,$l,Zl),r);break}Rc(e,$l,Zl);break;default:throw Error(s(329))}}}return fc(e,rt()),e.callbackNode===n?pc.bind(null,e):null}function mc(e,t){var n=Yl;return e.current.memoizedState.isDehydrated&&(Sc(e,t).flags|=256),2!==(e=Ic(e,t))&&(t=$l,$l=n,null!==t&&gc(t)),e}function gc(e){null===$l?$l=e:$l.push.apply($l,e)}function vc(e,t){for(t&=~Ql,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function yc(e){if(0!==(6&Fl))throw Error(s(327));Pc();var t=wt(e,0);if(0===(1&t))return fc(e,rt()),null;var n=Ic(e,t);if(0!==e.tag&&2===n){var r=St(e);0!==r&&(t=r,n=mc(e,r))}if(1===n)throw n=Wl,Sc(e,0),vc(e,t),fc(e,rt()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rc(e,$l,Zl),fc(e,rt()),null}function bc(e,t){var n=Fl;Fl|=1;try{return e(t)}finally{0===(Fl=n)&&(Xl=rt()+500,Gi&&$i())}}function wc(e){null!==ic&&0===ic.tag&&0===(6&Fl)&&Pc();var t=Fl;Fl|=1;var n=jl.transition,r=Ct;try{if(jl.transition=null,Ct=1,e)return e()}finally{Ct=r,jl.transition=n,0===(6&(Fl=t))&&$i()}}function Ec(){Bl=ql.current,Di(ql)}function Sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,di(n)),null!==Vl)for(n=Vl.return;null!==n;){var r=n;switch(cs(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&zi();break;case 3:io(),Di(ji),Di(Mi),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Di(ao);break;case 10:Ls(r.type._context);break;case 22:case 23:Ec()}n=n.return}if(Ul=e,Vl=e=qc(e.current,null),zl=Bl=t,Hl=0,Wl=null,Ql=Gl=Kl=0,$l=Yl=null,null!==Us){for(t=0;t<Us.length;t++)if(null!==(r=(n=Us[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Us=null}return e}function _c(e,t){for(;;){var n=Vl;try{if(Os(),ho.current=la,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,bo=!1,wo=0,Ml.current=null,null===n||null===n.return){Hl=1,Wl=t,Vl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=zl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ia(a);if(null!==p){p.flags&=-257,Ca(p,a,l,0,t),1&p.mode&&ka(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ka(o,u,t),kc();break e}c=Error(s(426))}else if(ds&&1&l.mode){var v=Ia(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ca(v,a,l,0,t),Ss(ba(c,l));break e}}o=c=ba(c,l),4!==Hl&&(Hl=2),null===Yl?Yl=[o]:Yl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ys(o,_a(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===nc||!nc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ys(o,Ta(o,l,t));break e}}o=o.return}while(null!==o)}Ac(n)}catch(zo){t=zo,Vl===n&&null!==n&&(Vl=n=n.return);continue}break}}function Tc(){var e=Ll.current;return Ll.current=la,null===e?la:e}function kc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Ul||0===(268435455&Kl)&&0===(268435455&Gl)||vc(Ul,zl)}function Ic(e,t){var n=Fl;Fl|=2;var r=Tc();for(Ul===e&&zl===t||(Zl=null,Sc(e,t));;)try{Cc();break}catch(i){_c(e,i)}if(Os(),Fl=n,Ll.current=r,null!==Vl)throw Error(s(261));return Ul=null,zl=0,Hl}function Cc(){for(;null!==Vl;)Nc(Vl)}function xc(){for(;null!==Vl&&!et();)Nc(Vl)}function Nc(e){var t=Dl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Ac(e):Vl=t,Ml.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=rl(n,t,Bl)))return void(Vl=n)}else{if(null!==(n=il(n,t)))return n.flags&=32767,void(Vl=n);if(null===e)return Hl=6,void(Vl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Vl=t);Vl=t=e}while(null!==t);0===Hl&&(Hl=5)}function Rc(e,t,n){var r=Ct,i=jl.transition;try{jl.transition=null,Ct=1,function(e,t,n,r){do{Pc()}while(null!==ic);if(0!==(6&Fl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ft(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ul&&(Vl=Ul=null,zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||rc||(rc=!0,Uc(at,(function(){return Pc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=jl.transition,jl.transition=null;var a=Ct;Ct=1;var l=Fl;Fl|=4,Ml.current=null,function(e,t){if(li=Xt,Er(e=wr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(gt){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ci={focusedElem:e,selectionRange:n},Xt=!1,ll=t;null!==ll;)if(e=(t=ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ll=e;else for(;null!==ll;){t=ll;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:da(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(gt){Oc(t,t.return,gt)}if(null!==(e=t.sibling)){e.return=t.return,ll=e;break}ll=t.return}m=hl,hl=!1}(e,n),Il(n,e),Sr(ci),Xt=!!li,ci=li=null,e.current=n,xl(n,e,i),tt(),Fl=l,Ct=a,jl.transition=o}else e.current=n;if(rc&&(rc=!1,ic=e,sc=i),o=e.pendingLanes,0===o&&(nc=null),function(e){if(dt&&"function"===typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),fc(e,rt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ec)throw ec=!1,e=tc,tc=null,e;0!==(1&sc)&&0!==e.tag&&Pc(),o=e.pendingLanes,0!==(1&o)?e===ac?oc++:(oc=0,ac=e):oc=0,$i()}(e,t,n,r)}finally{jl.transition=i,Ct=r}return null}function Pc(){if(null!==ic){var e=xt(sc),t=jl.transition,n=Ct;try{if(jl.transition=null,Ct=16>e?16:e,null===ic)var r=!1;else{if(e=ic,ic=null,sc=0,0!==(6&Fl))throw Error(s(331));var i=Fl;for(Fl|=4,ll=e.current;null!==ll;){var o=ll,a=o.child;if(0!==(16&ll.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ll=u;null!==ll;){var h=ll;switch(h.tag){case 0:case 11:case 15:dl(8,h,o)}var d=h.child;if(null!==d)d.return=h,ll=d;else for(;null!==ll;){var f=(h=ll).sibling,p=h.return;if(ml(h),h===u){ll=null;break}if(null!==f){f.return=p,ll=f;break}ll=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ll=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,ll=a;else e:for(;null!==ll;){if(0!==(2048&(o=ll).flags))switch(o.tag){case 0:case 11:case 15:dl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,ll=y;break e}ll=o.return}}var b=e.current;for(ll=b;null!==ll;){var w=(a=ll).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,ll=w;else e:for(a=b;null!==ll;){if(0!==(2048&(l=ll).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(zo){Oc(l,l.return,zo)}if(l===a){ll=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,ll=E;break e}ll=l.return}}if(Fl=i,$i(),dt&&"function"===typeof dt.onPostCommitFiberRoot)try{dt.onPostCommitFiberRoot(ht,e)}catch(zo){}r=!0}return r}finally{Ct=n,jl.transition=t}}return!1}function Dc(e,t,n){e=Gs(e,t=_a(0,t=ba(n,t),1),1),t=uc(),null!==e&&(kt(e,1,t),fc(e,t))}function Oc(e,t,n){if(3===e.tag)Dc(e,e,n);else for(;null!==t;){if(3===t.tag){Dc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===nc||!nc.has(r))){t=Gs(t,e=Ta(t,e=ba(n,e),1),1),e=uc(),null!==t&&(kt(t,1,e),fc(t,e));break}}t=t.return}}function Lc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&n,Ul===e&&(zl&n)===n&&(4===Hl||3===Hl&&(130023424&zl)===zl&&500>rt()-Jl?Sc(e,0):Ql|=n),fc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=uc();null!==(e=Bs(e,t))&&(kt(e,t,n),fc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Fc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Mc(e,n)}function Uc(e,t){return Xe(e,t)}function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Vc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Bc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case _:return Wc(n.children,i,o,t);case T:a=8,i|=8;break;case k:return(e=zc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case N:return(e=zc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=zc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Kc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case C:a=9;break e;case x:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=zc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Wc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Kc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Gc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Qc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,i,s,o,a,l){return e=new Yc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=zc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hs(s),e}function Jc(e){if(!e)return Li;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Vi(n))return qi(e,n,t)}return t}function Xc(e,t,n,r,i,s,o,a,l){return(e=$c(n,r,!0,e,0,s,0,a,l)).context=Jc(null),n=e.current,(s=Ks(r=uc(),i=hc(n))).callback=void 0!==t&&null!==t?t:null,Gs(n,s,i),e.current.lanes=i,kt(e,i,r),fc(e,r),e}function Zc(e,t,n,r){var i=t.current,s=uc(),o=hc(i);return n=Jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ks(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Gs(i,t,o))&&(dc(e,i,o,s),Qs(e,i,o)),o}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}Dl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)Na=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Na=!1,function(e,t,n){switch(t.tag){case 3:Ua(t),Es();break;case 5:so(t);break;case 1:Vi(t.type)&&Hi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oi(As,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oi(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ga(e,t,n):(Oi(ao,1&ao.current),null!==(e=el(e,t,n))?e.sibling:null);Oi(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Xa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oi(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n)}return el(e,t,n)}(e,t,n);Na=0!==(131072&e.flags)}else Na=!1,ds&&0!==(1048576&t.flags)&&as(t,es,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Za(e,t),e=t.pendingProps;var i=Ui(t,Mi.current);js(t,n),i=To(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vi(r)?(o=!0,Hi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Hs(t),i.updater=pa,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Fa(null,t,r,!0,o,n)):(t.tag=0,ds&&o&&ls(t),Aa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Za(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=da(r,e),i){case 0:t=Ma(null,t,r,e,n);break e;case 1:t=ja(null,t,r,e,n);break e;case 11:t=Ra(null,t,r,e,n);break e;case 14:t=Pa(null,t,r,da(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:da(r,i),n);case 1:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:da(r,i),n);case 3:e:{if(Ua(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ws(e,t),$s(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Va(e,t,r,n,i=ba(Error(s(423)),t));break e}if(r!==i){t=Va(e,t,r,n,i=ba(Error(s(424)),t));break e}for(hs=vi(t.stateNode.containerInfo.firstChild),us=t,ds=!0,fs=null,n=Ns(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Es(),r===i){t=el(e,t,n);break e}Aa(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&vs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ui(r,i)?a=null:null!==o&&ui(r,o)&&(t.flags|=32),La(e,t),Aa(e,t,a,n),t.child;case 6:return null===e&&vs(t),null;case 13:return Ga(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:da(r,i),n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Oi(As,r._currentValue),r._currentValue=a,null!==o)if(mr(o.value,a)){if(o.children===i.children&&!ji.current){t=el(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ks(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ms(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ms(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Aa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,js(t,n),r=r(i=Fs(i)),t.flags|=1,Aa(e,t,r,n),t.child;case 14:return i=da(r=t.type,t.pendingProps),Pa(e,t,r,i=da(r.type,i),n);case 15:return Da(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),Za(e,t),t.tag=1,Vi(r)?(e=!0,Hi(t)):e=!1,js(t,n),ga(t,r,i),ya(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return Xa(e,t,n);case 22:return Oa(e,t,n)}throw Error(s(156,t.tag))};var ru="function"===typeof reportError?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}function su(e){this._internalRoot=e}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lu(){}function cu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=eu(o);a.call(e)}}Zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=eu(o);s.call(e)}}var o=Xc(t,r,e,0,null,!1,0,"",lu);return e._reactRootContainer=o,e[Si]=o.current,$r(8===e.nodeType?e.parentNode:e),wc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=eu(l);a.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",lu);return e._reactRootContainer=l,e[Si]=l.current,$r(8===e.nodeType?e.parentNode:e),wc((function(){Zc(t,l,n,r)})),l}(n,t,e,i,r);return eu(o)}su.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zc(e,t,null,null)},su.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;wc((function(){Zc(null,e,null,null)})),t[Si]=null}},su.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Wt(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bt(t.pendingLanes);0!==n&&(It(t,1|n),fc(t,rt()),0===(6&Fl)&&(Xl=rt()+500,$i()))}break;case 13:wc((function(){var t=Bs(e,1);if(null!==t){var n=uc();dc(t,e,1,n)}})),nu(e,1)}},At=function(e){if(13===e.tag){var t=Bs(e,134217728);if(null!==t)dc(t,e,134217728,uc());nu(e,134217728)}},Rt=function(e){if(13===e.tag){var t=hc(e),n=Bs(e,t);if(null!==n)dc(n,e,t,uc());nu(e,t)}},Pt=function(){return Ct},Dt=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ni(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=bc,Ne=wc;var uu={usingClientEntryPoint:!1,Events:[Ci,xi,Ni,Ie,Ce,bc]},hu={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{ht=fu.inject(du),dt=fu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ou(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!ou(e))throw Error(s(299));var n=!1,r="",i=ru;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,i),e[Si]=t.current,$r(8===e.nodeType?e.parentNode:e),new iu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return wc(e)},t.hydrate=function(e,t,n){if(!au(t))throw Error(s(200));return cu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!ou(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=ru;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Xc(t,null,e,1,null!=n?n:null,i,0,o,a),e[Si]=t.current,$r(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new su(t)},t.render=function(e,t,n){if(!au(t))throw Error(s(200));return cu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!au(e))throw Error(s(40));return!!e._reactRootContainer&&(wc((function(){cu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Si]=null}))})),!0)},t.unstable_batchedUpdates=bc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return cu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r,i=n(43),s=n.t(i,2),o=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=r.Pop,d=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let w={get action(){return l},get location(){return e(s,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),d=e,()=>{s.removeEventListener(u,y),d=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=v()+1;let c=f(i,g),u=w.createHref(i);try{a.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}o&&d&&d({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=v();let s=f(i,g),c=w.createHref(i);a.replaceState(s,"",c),o&&d&&d({action:l,location:w.location,delta:0})},go:e=>a.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=D(i);o=R(s[a],e,r)}return o}function E(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=U([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),E(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=S(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,T=3,k=2,I=1,C=10,x=-2,N=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=x),t&&(r+=k),n.filter((e=>!N(e))).reduce(((e,t)=>e+(_.test(t)?T:""===t?I:C)),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:U([s,u.pathname]),pathnameBase:V(U([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=U([s,u.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function j(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:B(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const $=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function Z(){return null!=i.useContext($)}function ee(){return Z()||h(!1),i.useContext($).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=fe(he.UseNavigateStable),t=me(de.UseNavigateStable),n=i.useRef(!1);te((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))}),[e,t]);return r}():function(){Z()||h(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:s}=i.useContext(J),{pathname:o}=ee(),a=JSON.stringify(j(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e]);return c}()}function re(){let{matches:e}=i.useContext(J),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:s}=i.useContext(J),{pathname:o}=ee(),a=JSON.stringify(j(s,r.v7_relativeSplatPath));return i.useMemo((()=>F(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function se(e,t,n,s){Z()||h(!1);let{navigator:o}=i.useContext(Y),{matches:a}=i.useContext(J),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=ue(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&w?i.createElement($.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},w):w}function oe(){let e=function(){var e;let t=i.useContext(X),n=pe(de.UseRouteError),r=me(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ae=i.createElement(oe,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function ue(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ae,c&&(u<0&&0===s?(p="route-fallback",!1||ge[p]||(ge[p]=!0),h=!0,f=null):u===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function fe(e){let t=i.useContext(G);return t||h(!1),t}function pe(e){let t=i.useContext(Q);return t||h(!1),t}function me(e){let t=function(){let e=i.useContext(J);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ge={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||h(!1);let{future:o,static:a}=i.useContext(Y),{matches:l}=i.useContext(J),{pathname:c}=ee(),u=ne(),d=F(t,j(l,o.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(d);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:s})),[u,f,s,n,r]),null}function be(e){h(!1)}function we(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:c}=e;Z()&&h(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:u,navigator:a,static:l,future:K({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,b=i.useMemo((()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:o}}),[u,f,p,m,v,y,o]);return null==b?null:i.createElement(Y.Provider,{value:d},i.createElement($.Provider,{children:n,value:b}))}function Ee(e){let{children:t,location:n}=e;return se(Se(t),n)}new Promise((()=>{}));i.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Se(e.props.children,s));e.type!==be&&h(!1),e.props.index&&e.props.children&&h(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Se(e.props.children,s)),n.push(o)})),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ke(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ub){}new Map;const Ce=s.startTransition;l.flushSync,s.useId;function xe(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&Ce?Ce((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>l.listen(d)),[l,d]),i.useEffect((()=>ve(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=Te(e,Ie),{basename:g}=i.useContext(Y),v=!1;if("string"===typeof u&&Ae.test(u)&&(n=u,Ne))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(Ub){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:s}=i.useContext(Y),{hash:o,pathname:a,search:l}=ie(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:U([r,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),h=ie(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}}),[u,c,h,r,s,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});return i.createElement("a",_e({},p,{href:n||y,onClick:v||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Pe,De;function Oe(e){let t=i.useRef(ke(e)),n=i.useRef(!1),r=ee(),s=i.useMemo((()=>function(e,t){let n=ke(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),o=ne(),a=i.useCallback(((e,t)=>{const r=ke("function"===typeof e?e(s):e);n.current=!0,o("?"+r,t)}),[o,s]);return[s,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Me(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}function je(e,t,n){return(t=Me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ze(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ze(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Be=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ze(e))&&(r&&(r+=" "),r+=t);return r},qe=["theme","type"],He=["delay","staleId"],We=e=>"number"==typeof e&&!isNaN(e),Ke=e=>"string"==typeof e,Ge=e=>"function"==typeof e,Qe=e=>Ke(e)||Ge(e)?e:null,Ye=e=>(0,i.isValidElement)(e)||Ke(e)||Ge(e)||We(e);function $e(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:o=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:d}=e;const f=r?"".concat(t,"--").concat(l):t,p=r?"".concat(n,"--").concat(l):n,m=(0,i.useRef)(0);return(0,i.useLayoutEffect)((()=>{const e=h.current,t=f.split(" "),n=r=>{r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,i.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,o):u()};d||(c?t():(m.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[d]),i.createElement(i.Fragment,null,a)}}function Je(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Xe={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},Ze=e=>{let{theme:t,type:n}=e,r=Ve(e,qe);return i.createElement("svg",Ue({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},r))},et={info:function(e){return i.createElement(Ze,Ue({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(Ze,Ue({},e),i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(Ze,Ue({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(Ze,Ue({},e),i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};function tt(e){const[,t]=(0,i.useReducer)((e=>e+1),0),[n,r]=(0,i.useState)([]),s=(0,i.useRef)(null),o=(0,i.useRef)(new Map).current,a=e=>-1!==n.indexOf(e),l=(0,i.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:e=>o.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function u(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function h(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();f(e,t,n)}function d(e,n){let{delay:r,staleId:a}=n,c=Ve(n,He);if(!Ye(e)||function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||o.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:d,updateId:p,data:m}=c,{props:g}=l,v=()=>u(d),y=null==p;y&&l.count++;const b=Ue(Ue(Ue({},g),{},{style:g.toastStyle,key:l.toastKey++},Object.fromEntries(Object.entries(c).filter((e=>{let[t,n]=e;return null!=n})))),{},{toastId:d,updateId:p,data:m,closeToast:v,isIn:!1,className:Qe(c.className||g.toastClassName),bodyClassName:Qe(c.bodyClassName||g.bodyClassName),progressClassName:Qe(c.progressClassName||g.progressClassName),autoClose:!c.isLoading&&(w=c.autoClose,E=g.autoClose,!1===w||We(w)&&w>0?w:E),deleteToast(){const e=Je(o.get(d),"removed");o.delete(d),Xe.emit(4,e);const n=l.queue.length;if(l.count=null==d?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),n>0){const e=null==d?l.props.limit:1;if(1===n||1===e)l.displayedToast++,h();else{const t=e>n?n:e;l.displayedToast=t;for(let e=0;e<t;e++)h()}}else t()}});var w,E;b.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:s}=e,o=null;const a={theme:t,type:n};return!1===s||(Ge(s)?o=s(a):(0,i.isValidElement)(s)?o=(0,i.cloneElement)(s,a):Ke(s)||We(s)?o=s:r?o=et.spinner():(e=>e in et)(n)&&(o=et[n](a))),o}(b),Ge(c.onOpen)&&(b.onOpen=c.onOpen),Ge(c.onClose)&&(b.onClose=c.onClose),b.closeButton=g.closeButton,!1===c.closeButton||Ye(c.closeButton)?b.closeButton=c.closeButton:!0===c.closeButton&&(b.closeButton=!Ye(g.closeButton)||g.closeButton);let S=e;(0,i.isValidElement)(e)&&!Ke(e.type)?S=(0,i.cloneElement)(e,{closeToast:v,toastProps:b,data:m}):Ge(e)&&(S=e({closeToast:v,toastProps:b,data:m})),g.limit&&g.limit>0&&l.count>g.limit&&y?l.queue.push({toastContent:S,toastProps:b,staleId:a}):We(r)?setTimeout((()=>{f(S,b,a)}),r):f(S,b,a)}function f(e,t,n){const{toastId:i}=t;n&&o.delete(n);const s={content:e,props:t};o.set(i,s),r((e=>[...e,i].filter((e=>e!==n)))),Xe.emit(4,Je(s,null==s.props.updateId?"added":"updated"))}return(0,i.useEffect)((()=>(l.containerId=e.containerId,Xe.cancelEmit(3).on(0,d).on(1,(e=>s.current&&u(e))).on(5,c).emit(2,l),()=>{o.clear(),Xe.emit(3,l)})),[]),(0,i.useEffect)((()=>{l.props=e,l.isToastActive=a,l.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(o.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:s,isToastActive:a}}function nt(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function rt(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function it(e){const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),o=(0,i.useRef)(null),a=(0,i.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,i.useRef)(e),{autoClose:c,pauseOnHover:u,closeToast:h,onClick:d,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),document.addEventListener("touchmove",y),document.addEventListener("touchend",b);const n=o.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=nt(t.nativeEvent),a.y=rt(t.nativeEvent),"x"===e.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(a.boundingRect){const{top:n,bottom:r,left:i,right:s}=a.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&a.x>=i&&a.x<=s&&a.y>=n&&a.y<=r?v():g()}}function g(){n(!0)}function v(){n(!1)}function y(n){const r=o.current;a.canDrag&&r&&(a.didMove=!0,t&&v(),a.x=nt(n),a.y=rt(n),a.delta="x"===e.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(a.delta,"px)"),r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function b(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",b);const t=o.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,i.useEffect)((()=>{l.current=e})),(0,i.useEffect)((()=>(o.current&&o.current.addEventListener("d",g,{once:!0}),Ge(e.onOpen)&&e.onOpen((0,i.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;Ge(e.onClose)&&e.onClose((0,i.isValidElement)(e.children)&&e.children.props)})),[]),(0,i.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",g),window.addEventListener("blur",v)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",v))})),[e.pauseOnFocusLoss]);const w={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return c&&u&&(w.onMouseEnter=v,w.onMouseLeave=g),f&&(w.onClick=e=>{d&&d(e),a.canCloseOnClick&&h()}),{playToast:g,pauseToast:v,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:w}}function st(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return i.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ot(e){let{delay:t,isRunning:n,closeToast:r,type:s="default",hide:o,className:a,style:l,controlledProgress:c,progress:u,rtl:h,isIn:d,theme:f}=e;const p=o||c&&0===u,m=Ue(Ue({},l),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:p?0:1});c&&(m.transform="scaleX(".concat(u,")"));const g=Be("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":h}),v=Ge(a)?a({rtl:h,type:s,defaultClassName:g}):Be(g,a);return i.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:m,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{d&&r()}})}const at=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s}=it(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:h,closeToast:d,transition:f,position:p,className:m,style:g,bodyClassName:v,bodyStyle:y,progressClassName:b,progressStyle:w,updateId:E,role:S,progress:_,rtl:T,toastId:k,deleteToast:I,isIn:C,isLoading:x,iconOut:N,closeOnClick:A,theme:R}=e,P=Be("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":A}),D=Ge(m)?m({rtl:T,position:p,type:u,defaultClassName:P}):Be(P,m),O=!!_||!l,L={closeToast:d,type:u,theme:R};let M=null;return!1===o||(M=Ge(o)?o(L):(0,i.isValidElement)(o)?(0,i.cloneElement)(o,L):st(L)),i.createElement(f,{isIn:C,done:I,position:p,preventExitTransition:n,nodeRef:r},i.createElement("div",Ue(Ue({id:k,onClick:c,className:D},s),{},{style:g,ref:r}),i.createElement("div",Ue(Ue({},C&&{role:S}),{},{className:Ge(v)?v({type:u}):Be("Toastify__toast-body",v),style:y}),null!=N&&i.createElement("div",{className:Be("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},N),i.createElement("div",null,a)),M,i.createElement(ot,Ue(Ue({},E&&!O?{key:"pb-".concat(E)}:{}),{},{rtl:T,theme:R,delay:l,isRunning:t,isIn:C,closeToast:d,hide:h,type:u,style:w,className:b,controlledProgress:O,progress:_||0}))))},lt=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},ct=$e(lt("bounce",!0)),ut=($e(lt("slide",!0)),$e(lt("zoom")),$e(lt("flip")),(0,i.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=tt(e),{className:o,style:a,rtl:l,containerId:c}=e;function u(e){const t=Be("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":l});return Ge(o)?o({position:e,rtl:l,defaultClassName:t}):Be(t,Qe(o))}return(0,i.useEffect)((()=>{t&&(t.current=r.current)}),[]),i.createElement("div",{ref:r,className:"Toastify",id:c},n(((e,t)=>{const n=t.length?Ue({},a):Ue(Ue({},a),{},{pointerEvents:"none"});return i.createElement("div",{className:u(e),style:n,key:"container-".concat(e)},t.map(((e,n)=>{let{content:r,props:o}=e;return i.createElement(at,Ue(Ue({},o),{},{isIn:s(o.toastId),style:Ue(Ue({},o.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(o.key)}),r)})))})))})));ut.displayName="ToastContainer",ut.defaultProps={position:"top-right",transition:ct,autoClose:5e3,closeButton:st,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ht,dt=new Map,ft=[],pt=1;function mt(){return""+pt++}function gt(e){return e&&(Ke(e.toastId)||We(e.toastId))?e.toastId:mt()}function vt(e,t){return dt.size>0?Xe.emit(0,e,t):ft.push({content:e,options:t}),t.toastId}function yt(e,t){return Ue(Ue({},t),{},{type:t&&t.type||e,toastId:gt(t)})}function bt(e){return(t,n)=>vt(t,yt(e,n))}function wt(e,t){return vt(e,yt("default",t))}wt.loading=(e,t)=>vt(e,yt("default",Ue({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),wt.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=Ke(i)?wt.loading(i,n):wt.loading(i.render,Ue(Ue({},n),i)));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void wt.dismiss(r);const s=Ue(Ue(Ue({type:e},a),n),{},{data:i}),o=Ke(t)?{render:t}:t;return r?wt.update(r,Ue(Ue({},s),o)):wt(o.render,Ue(Ue({},s),o)),i},c=Ge(e)?e():e;return c.then((e=>l("success",o,e))).catch((e=>l("error",s,e))),c},wt.success=bt("success"),wt.info=bt("info"),wt.error=bt("error"),wt.warning=bt("warning"),wt.warn=wt.warning,wt.dark=(e,t)=>vt(e,yt("default",Ue({theme:"dark"},t))),wt.dismiss=e=>{dt.size>0?Xe.emit(1,e):ft=ft.filter((t=>null!=e&&t.options.toastId!==e))},wt.clearWaitingQueue=function(e){return void 0===e&&(e={}),Xe.emit(5,e)},wt.isActive=e=>{let t=!1;return dt.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},wt.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=dt.get(n||ht);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,s=Ue(Ue(Ue({delay:100},r),t),{},{toastId:t.toastId||e,updateId:mt()});s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,vt(o,s)}}),0)},wt.done=e=>{wt.update(e,{progress:1})},wt.onChange=e=>(Xe.on(4,e),()=>{Xe.off(4,e)}),wt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},wt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Xe.on(2,(e=>{ht=e.containerId||e,dt.set(ht,e),ft.forEach((e=>{Xe.emit(0,e.content,e.options)})),ft=[]})).on(3,(e=>{dt.delete(e.containerId||e),0===dt.size&&Xe.off(0).off(1).off(5)}));const Et=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},St={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Et(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new _t;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _t extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tt=function(e){return function(e){const t=Et(e);return St.encodeByteArray(t,!0)}(e).replace(/\./g,"")},kt=function(e){try{return St.decodeString(e,!0)}catch(Ub){console.error("base64Decode failed: ",Ub)}return null};const It=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ct=()=>{try{return It()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCECLHhTm_kgqzp64yNyvgCdxyM-fswHCQ",REACT_APP_FIREBASE_APP_ID:"1:933664569375:web:0053aec6c5e4ccc680fd2a",REACT_APP_FIREBASE_AUTH_DOMAIN:"winners-dream.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-F4EGJMPYYW",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"933664569375",REACT_APP_FIREBASE_PROJECT_ID:"winners-dream",REACT_APP_FIREBASE_STORAGE_BUCKET:"winners-dream.firebasestorage.app",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51RSsIUBMiNbSQeLqSaxKjx74Iks6EUyDxCc1BQ6uBExDjIdvFf4bzrH0fI6goopSg8ZLhysNmjsyhJwAxfhcrNbd00Wt9LVtcx"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ub){return}const t=e&&kt(e[1]);return t&&JSON.parse(t)})()}catch(Ub){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Ub))}},xt=e=>{var t,n;return null===(n=null===(t=Ct())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Nt=()=>{var e;return null===(e=Ct())||void 0===e?void 0:e.config},At=e=>{var t;return null===(t=Ct())||void 0===t?void 0:t["_".concat(e)]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Pt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dt(){try{return"object"===typeof indexedDB}catch(Ub){return!1}}class Ot extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Mt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ot(n,s,t)}}const Mt=/\{\$([^}]+)}/g;function jt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ft(n)&&Ft(s)){if(!jt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ft(e){return null!==e&&"object"===typeof e}function Ut(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Vt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function zt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Bt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=qt),void 0===r.error&&(r.error=qt),void 0===r.complete&&(r.complete=qt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Ub){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Ub){"undefined"!==typeof console&&console.error&&console.error(Ub)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function qt(){}function Ht(e){return e&&e._delegate?e._delegate:e}class Wt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kt="[DEFAULT]";class Gt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Rt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Ub){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ub){if(r)return null;throw Ub}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Kt})}catch(Ub){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Ub){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Kt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return this.component?this.component.multipleInstances?e:Kt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Gt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yt=[];var $t;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($t||($t={}));const Jt={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},Xt=$t.INFO,Zt={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},en=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Zt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class tn{constructor(e){this.name=e,this._logLevel=Xt,this._logHandler=en,this._userLogHandler=null,Yt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Jt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}let nn,rn;const sn=new WeakMap,on=new WeakMap,an=new WeakMap,ln=new WeakMap,cn=new WeakMap;let un={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return on.get(e);if("objectStoreNames"===t)return e.objectStoreNames||an.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function hn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rn||(rn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pn(this),n),fn(sn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fn(e.apply(pn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(pn(this),t,...r);return an.set(s,t.sort?t.sort():[t]),fn(s)}}function dn(e){return"function"===typeof e?hn(e):(e instanceof IDBTransaction&&function(e){if(on.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));on.set(e,t)}(e),t=e,(nn||(nn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,un):e);var t}function fn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(fn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&sn.set(t,e)})).catch((()=>{})),cn.set(t,e),t}(e);if(ln.has(e))return ln.get(e);const t=dn(e);return t!==e&&(ln.set(e,t),cn.set(t,e)),t}const pn=e=>cn.get(e);const mn=["get","getKey","getAll","getAllKeys","count"],gn=["put","add","delete","clear"],vn=new Map;function yn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(vn.get(t))return vn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=gn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return vn.set(t,s),s}un=(e=>Ue(Ue({},e),{},{get:(t,n,r)=>yn(t,n)||e.get(t,n,r),has:(t,n)=>!!yn(t,n)||e.has(t,n)}))(un);class bn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const wn="@firebase/app",En="0.9.13",Sn=new tn("@firebase/app"),_n="@firebase/app-compat",Tn="@firebase/analytics-compat",kn="@firebase/analytics",In="@firebase/app-check-compat",Cn="@firebase/app-check",xn="@firebase/auth",Nn="@firebase/auth-compat",An="@firebase/database",Rn="@firebase/database-compat",Pn="@firebase/functions",Dn="@firebase/functions-compat",On="@firebase/installations",Ln="@firebase/installations-compat",Mn="@firebase/messaging",jn="@firebase/messaging-compat",Fn="@firebase/performance",Un="@firebase/performance-compat",Vn="@firebase/remote-config",zn="@firebase/remote-config-compat",Bn="@firebase/storage",qn="@firebase/storage-compat",Hn="@firebase/firestore",Wn="@firebase/firestore-compat",Kn="firebase",Gn="[DEFAULT]",Qn={[wn]:"fire-core",[_n]:"fire-core-compat",[kn]:"fire-analytics",[Tn]:"fire-analytics-compat",[Cn]:"fire-app-check",[In]:"fire-app-check-compat",[xn]:"fire-auth",[Nn]:"fire-auth-compat",[An]:"fire-rtdb",[Rn]:"fire-rtdb-compat",[Pn]:"fire-fn",[Dn]:"fire-fn-compat",[On]:"fire-iid",[Ln]:"fire-iid-compat",[Mn]:"fire-fcm",[jn]:"fire-fcm-compat",[Fn]:"fire-perf",[Un]:"fire-perf-compat",[Vn]:"fire-rc",[zn]:"fire-rc-compat",[Bn]:"fire-gcs",[qn]:"fire-gcs-compat",[Hn]:"fire-fst",[Wn]:"fire-fst-compat","fire-js":"fire-js",[Kn]:"fire-js-all"},Yn=new Map,$n=new Map;function Jn(e,t){try{e.container.addComponent(t)}catch(Ub){Sn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Ub)}}function Xn(e){const t=e.name;if($n.has(t))return Sn.debug("There were multiple attempts to register component ".concat(t,".")),!1;$n.set(t,e);for(const n of Yn.values())Jn(n,e);return!0}function Zn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const er=new Lt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const nr="9.23.0";function rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw er.create("bad-app-name",{appName:String(i)});if(n||(n=Nt()),!n)throw er.create("no-options");const s=Yn.get(i);if(s){if(jt(n,s.options)&&jt(r,s.config))return s;throw er.create("duplicate-app",{appName:i})}const o=new Qt(i);for(const l of $n.values())o.addComponent(l);const a=new tr(n,r,o);return Yn.set(i,a),a}function ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn;const t=Yn.get(e);if(!t&&e===Gn&&Nt())return rr();if(!t)throw er.create("no-app",{appName:e});return t}function sr(e,t,n){var r;let i=null!==(r=Qn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Sn.warn(e.join(" "))}Xn(new Wt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const or="firebase-heartbeat-store";let ar=null;function lr(){return ar||(ar=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=fn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(fn(o.result),e.oldVersion,e.newVersion,fn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(or)}}).catch((e=>{throw er.create("idb-open",{originalErrorMessage:e.message})}))),ar}async function cr(e,t){try{const n=(await lr()).transaction(or,"readwrite"),r=n.objectStore(or);await r.put(t,ur(e)),await n.done}catch(Ub){if(Ub instanceof Ot)Sn.warn(Ub.message);else{const t=er.create("idb-set",{originalErrorMessage:null===Ub||void 0===Ub?void 0:Ub.message});Sn.warn(t.message)}}}function ur(e){return"".concat(e.name,"!").concat(e.options.appId)}class hr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=dr();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=dr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),pr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Tt(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function dr(){return(new Date).toISOString().substring(0,10)}class fr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Dt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await lr();return await t.transaction(or).objectStore(or).get(ur(e))}catch(Ub){if(Ub instanceof Ot)Sn.warn(Ub.message);else{const t=er.create("idb-get",{originalErrorMessage:null===Ub||void 0===Ub?void 0:Ub.message});Sn.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pr(e){return Tt(JSON.stringify({version:2,heartbeats:e})).length}var mr;mr="",Xn(new Wt("platform-logger",(e=>new bn(e)),"PRIVATE")),Xn(new Wt("heartbeat",(e=>new hr(e)),"PRIVATE")),sr(wn,En,mr),sr(wn,En,"esm2017"),sr("fire-js","");sr("firebase","9.23.0","app");function gr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function vr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yr=vr,br=new Lt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wr=new tn("@firebase/auth");function Er(e){if(wr.logLevel<=$t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.error("Auth (".concat(nr,"): ").concat(e),...n)}}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kr(e,...n)}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kr(e,...n)}function Tr(e,t,n){const r=Object.assign(Object.assign({},yr()),{[t]:n});return new Lt("auth","Firebase",r).create(t,{appName:e.name})}function kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return br.create(e,...n)}function Ir(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kr(t,...r)}}function Cr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Er(t),new Error(t)}function xr(e,t){e||Cr(t)}function Nr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ar(){return"http:"===Rr()||"https:"===Rr()}function Rr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Pr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ar()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Dr{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Pr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Or(e,t){xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Lr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jr=new Dr(3e4,6e4);function Fr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ur(e,t,n,r){return Vr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Ut(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Lr.fetch()(Br(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Vr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mr),t);try{const t=new qr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Hr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Hr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Hr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Hr(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Tr(e,a,o);Sr(e,a)}}catch(Ub){if(Ub instanceof Ot)throw Ub;Sr(e,"network-request-failed",{message:String(Ub)})}}async function zr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ur(e,t,n,r,i);return"mfaPendingCredential"in s&&Sr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Br(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Or(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class qr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(_r(this.auth,"network-request-failed"))),jr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_r(e,t,r);return i.customData._tokenResponse=n,i}function Wr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Ub){}}function Kr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ht(e).getIdToken(t)}function Gr(e){return 1e3*Number(e)}function Qr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Er("JWT malformed, contained fewer than 3 sections"),null;try{const e=kt(n);return e?JSON.parse(e):(Er("Failed to decode base64 JWT payload"),null)}catch(Ub){return Er("Caught error parsing JWT payload as JSON",null===Ub||void 0===Ub?void 0:Ub.toString()),null}}async function Yr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Ub){throw Ub instanceof Ot&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Ub)&&e.auth.currentUser===e&&await e.auth.signOut(),Ub}}class $r{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ub){return void((null===Ub||void 0===Ub?void 0:Ub.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Jr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Yr(e,async function(e,t){return Ur(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ir(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=gr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ir(e.idToken,"internal-error"),Ir("undefined"!==typeof e.idToken,"internal-error"),Ir("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Qr(e);return Ir(t,"internal-error"),Ir("undefined"!==typeof t.exp,"internal-error"),Ir("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ir(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Vr(e,{},(async()=>{const n=Ut({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Br(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Lr.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Zr;return n&&(Ir("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ir("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ir("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zr,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function ei(e,t){Ir("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ti{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=gr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Yr(this,this.stsTokenManager.getToken(this.auth,e));return Ir(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ht(e),r=await n.getIdToken(t),i=Qr(r);Ir(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wr(Gr(i.auth_time)),issuedAtTime:Wr(Gr(i.iat)),expirationTime:Wr(Gr(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ht(e);await Xr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ir(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ir(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Yr(this,async function(e,t){return Ur(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=t;Ir(y&&S,e,"internal-error");const _=Zr.fromJSON(this.name,S);Ir("string"===typeof y,e,"internal-error"),ei(u,e.name),ei(h,e.name),Ir("boolean"===typeof b,e,"internal-error"),Ir("boolean"===typeof w,e,"internal-error"),ei(d,e.name),ei(f,e.name),ei(p,e.name),ei(m,e.name),ei(g,e.name),ei(v,e.name);const T=new ti({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Zr;r.updateFromServerResponse(t);const i=new ti({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xr(i),i}}const ni=new Map;function ri(e){xr(e instanceof Function,"Expected a class definition");let t=ni.get(e);return t?(xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ni.set(e,t),t)}class ii{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ii.type="NONE";const si=ii;function oi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ai{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=oi(this.userKey,r.apiKey,i),this.fullPersistenceKey=oi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ai(ri(si),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ri(si);const s=oi(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ti._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new ai(i,e,n)):new ai(i,e,n)}}function li(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(di(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ci(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pi(t))return"Blackberry";if(mi(t))return"Webos";if(ui(t))return"Safari";if((t.includes("chrome/")||hi(t))&&!t.includes("edge/"))return"Chrome";if(fi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/firefox\//i.test(e)}function ui(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/crios\//i.test(e)}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/iemobile/i.test(e)}function fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/android/i.test(e)}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/blackberry/i.test(e)}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/webos/i.test(e)}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vi(){return function(){const e=Pt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return gi(e)||fi(e)||mi(e)||pi(e)||/windows phone/i.test(e)||di(e)}function bi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=li(Pt());break;case"Worker":t="".concat(li(Pt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(nr,"/").concat(r)}async function wi(e,t){return Ur(e,"GET","/v2/recaptchaConfig",Fr(e,t))}function Ei(e){return void 0!==e&&void 0!==e.enterprise}class Si{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function _i(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=_r("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ti(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ki{constructor(e){this.type="recaptcha-enterprise",this.auth=Ni(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ei(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{wi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Si(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ei(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));_i("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ii(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ki(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Ci{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Ub){r(Ub)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Ub){t.reverse();for(const n of t)try{n()}catch(it){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Ub||void 0===Ub?void 0:Ub.message})}}}class xi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ai(this),this.idTokenSubscription=new Ai(this),this.beforeStateQueue=new Ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=br,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ai.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Ub){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Ub){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Ub)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ir(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Ub){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xr(e)}catch(Ub){if((null===Ub||void 0===Ub?void 0:Ub.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ht(e):null;return t&&Ir(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ir(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ri(e))}))}async initializeRecaptchaConfig(){const e=await wi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Si(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new ki(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;Ir(t,this,"argument-error"),this.redirectPersistenceManager=await ai.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Ir(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ir(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(wr.logLevel<=$t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.warn("Auth (".concat(nr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ni(e){return Ht(e)}class Ai{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Bt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ir(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ri(e,t,n){const r=Ni(e);Ir(r._canInitEmulator,r,"emulator-config-failed"),Ir(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Pi(t),{host:o,port:a}=function(e){const t=Pi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Di(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Di(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Di(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function Li(e,t){return Ur(e,"POST","/v1/accounts:update",t)}async function Mi(e,t){return zr(e,"POST","/v1/accounts:signInWithPassword",Fr(e,t))}async function ji(e,t){return Ur(e,"POST","/v1/accounts:sendOobCode",Fr(e,t))}async function Fi(e,t){return ji(e,t)}class Ui extends Oi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ui(e,t,"password")}static _fromEmailAndCode(e,t){return new Ui(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ii(e,n,"signInWithPassword");return Mi(e,t)}return Mi(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ii(e,n,"signInWithPassword");return Mi(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return zr(e,"POST","/v1/accounts:signInWithEmailLink",Fr(e,t))}(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Li(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return zr(e,"POST","/v1/accounts:signInWithEmailLink",Fr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Vi(e,t){return zr(e,"POST","/v1/accounts:signInWithIdp",Fr(e,t))}class zi extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=gr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new zi(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Vi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Vi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ut(t)}return e}}const Bi={USER_NOT_FOUND:"user-not-found"};class qi extends Oi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return zr(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await zr(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,t));if(n.temporaryProof)throw Hr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return zr(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Bi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new qi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Hi{constructor(e){var t,n,r,i,s,o;const a=Vt(zt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ir(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Vt(zt(e)).link,n=t?Vt(zt(t)).deep_link_id:null,r=Vt(zt(e)).deep_link_id;return(r?Vt(zt(r)).link:null)||r||n||t||e}(e);try{return new Hi(t)}catch(n){return null}}}class Wi{constructor(){this.providerId=Wi.PROVIDER_ID}static credential(e,t){return Ui._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hi.parseLink(t);return Ir(n,"argument-error"),Ui._fromEmailAndCode(e,n.code,n.tenantId)}}Wi.PROVIDER_ID="password",Wi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ki{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gi extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qi extends Gi{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch(n){return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qi.PROVIDER_ID="facebook.com";class Yi extends Gi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zi._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch(i){return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com",Yi.PROVIDER_ID="google.com";class $i extends Gi{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $i.credential(t.oauthAccessToken)}catch(n){return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com",$i.PROVIDER_ID="github.com";class Ji extends Gi{constructor(){super("twitter.com")}static credential(e,t){return zi._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ji.credential(n,r)}catch(i){return null}}}async function Xi(e,t){return zr(e,"POST","/v1/accounts:signUp",Fr(e,t))}Ji.TWITTER_SIGN_IN_METHOD="twitter.com",Ji.PROVIDER_ID="twitter.com";class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ti._fromIdTokenResponse(e,n,r),s=es(n);return new Zi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=es(n);return new Zi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function es(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ts extends Ot{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ts.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ts(e,t,n,r)}}function ns(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ts._fromErrorAndOperation(e,n,t,r);throw n}))}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Yr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Zi._forOperation(e,"link",r)}async function is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Yr(e,ns(r,i,t,e),n);Ir(s.idToken,r,"internal-error");const o=Qr(s.idToken);Ir(o,r,"internal-error");const{sub:a}=o;return Ir(e.uid===a,r,"user-mismatch"),Zi._forOperation(e,i,s)}catch(Ub){throw(null===Ub||void 0===Ub?void 0:Ub.code)==="auth/".concat("user-not-found")&&Sr(r,"user-mismatch"),Ub}}async function ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ns(e,r,t),s=await Zi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function os(e,t){return ss(Ni(e),t)}function as(e,t,n){var r;Ir((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ir("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ir(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ir(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ls(e,t){const n=Ht(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&as(n.auth,r,t);const{email:i}=await async function(e,t){return ji(e,t)}(n.auth,r);i!==e.email&&await e.reload()}new WeakMap;const cs="__sak";class us{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cs,"1"),this.storage.removeItem(cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class hs extends us{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Pt();return ui(e)||gi(e)}()&&function(){try{return!(!window||window===window.top)}catch(Ub){return!1}}(),this.fallbackToPolling=yi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);vi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hs.type="LOCAL";const ds=hs;class fs extends us{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fs.type="SESSION";const ps=fs;class ms{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ms(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ms.receivers=[];class vs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=gs("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ys(){return window}function bs(){return"undefined"!==typeof ys().WorkerGlobalScope&&"function"===typeof ys().importScripts}const ws="firebaseLocalStorageDb",Es="firebaseLocalStorage",Ss="fbase_key";class _s{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ts(e,t){return e.transaction([Es],t?"readwrite":"readonly").objectStore(Es)}function ks(){const e=indexedDB.open(ws,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Es,{keyPath:Ss})}catch(Ub){n(Ub)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Es)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ws);return new _s(e).toPromise()}(),t(await ks()))}))}))}async function Is(e,t,n){const r=Ts(e,!0).put({[Ss]:t,value:n});return new _s(r).toPromise()}function Cs(e,t){const n=Ts(e,!0).delete(t);return new _s(n).toPromise()}class xs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ks()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Ub){if(t++>3)throw Ub;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ms._getInstance(bs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ks();return await Is(e,cs,"1"),await Cs(e,cs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Is(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ts(e,!1).get(t),r=await new _s(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Cs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ts(e,!1).getAll();return new _s(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xs.type="LOCAL";const Ns=xs;Ti("rcb"),new Dr(3e4,6e4);const As="recaptcha";async function Rs(e,t,n){var r;const i=await n.verify();try{let s;if(Ir("string"===typeof i,e,"argument-error"),Ir(n.type===As,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ir("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:start",Fr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ir("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ir(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:start",Fr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ur(e,"POST","/v1/accounts:sendVerificationCode",Fr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ps{constructor(e){this.providerId=Ps.PROVIDER_ID,this.auth=Ni(e)}verifyPhoneNumber(e,t){return Rs(this.auth,e,Ht(t))}static credential(e,t){return qi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ps.credentialFromTaggedObject(t)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?qi._fromTokenResponse(n,r):null}}function Ds(e,t){return t?ri(t):(Ir(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ps.PROVIDER_ID="phone",Ps.PHONE_SIGN_IN_METHOD="phone";class Os extends Oi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ls(e){return ss(e.auth,new Os(e),e.bypassAuthState)}function Ms(e){const{auth:t,user:n}=e;return Ir(n,t,"internal-error"),is(n,new Os(e),e.bypassAuthState)}async function js(e){const{auth:t,user:n}=e;return Ir(n,t,"internal-error"),rs(n,new Os(e),e.bypassAuthState)}class Fs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ub){this.reject(Ub)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(Ub){this.reject(Ub)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ls;case"linkViaPopup":case"linkViaRedirect":return js;case"reauthViaPopup":case"reauthViaRedirect":return Ms;default:Sr(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Us=new Dr(2e3,1e4);class Vs extends Fs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Vs.currentPopupAction&&Vs.currentPopupAction.cancel(),Vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ir(e,this.auth,"internal-error"),e}async onExecution(){xr(1===this.filter.length,"Popup operations only handle one event");const e=gs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(_r(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Us.get())};e()}}Vs.currentPopupAction=null;const zs=new Map;class Bs extends Fs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=zs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ws(t),r=Hs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Ub){e=()=>Promise.reject(Ub)}zs.set(this.auth._key(),e)}return this.bypassAuthState||zs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function qs(e,t){zs.set(e._key(),t)}function Hs(e){return ri(e._redirectPersistence)}function Ws(e){return oi("pendingRedirect",e.config.apiKey,e.name)}async function Ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ni(e),i=Ds(r,t),s=new Bs(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Gs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ys(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ys(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qs(e))}saveEventToCache(e){this.cachedEventUids.add(Qs(e)),this.lastProcessedEventTime=Date.now()}}function Qs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ys(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const $s=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Js=/^https?/;async function Xs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ur(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Zs(r))return}catch(n){}Sr(e,"unauthorized-domain")}function Zs(e){const t=Nr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Js.test(n))return!1;if($s.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const eo=new Dr(3e4,6e4);function to(){const e=ys().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let no=null;function ro(e){return no=no||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){to(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{to(),n(_r(e,"network-request-failed"))},timeout:eo.get()})}if(null===(i=null===(r=ys().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ys().gapi)||void 0===s?void 0:s.load)){const t=Ti("iframefcb");return ys()[t]=()=>{gapi.load?o():n(_r(e,"network-request-failed"))},_i("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw no=null,e}))}(e),no}const io=new Dr(5e3,15e3),so={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ao(e){const t=e.config;Ir(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Or(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:nr},i=oo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Ut(r).slice(1))}const lo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class co{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Ub){}}}function uo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lo),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pt().toLowerCase();n&&(a=hi(c)?"_blank":n),ci(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return gi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new co(null);const h=window.open(t||"",a,u);Ir(h,e,"popup-blocked");try{h.focus()}catch(Ub){}return new co(h)}const ho="__/auth/handler",fo="emulator/auth/handler",po=encodeURIComponent("fac");async function mo(e,t,n,r,i,s){Ir(e.config.authDomain,e,"auth-domain-config-required"),Ir(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nr,eventId:i};if(t instanceof Ki){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Gi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(po,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ho);return Or(t,fo)}(e),"?").concat(Ut(a).slice(1)).concat(c)}const go="webStorageSupport";const vo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=Ks,this._overrideRedirectResult=qs}async _openPopup(e,t,n,r){var i;xr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return uo(e,await mo(e,t,n,Nr(),r),gs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ys().location.href=e}(await mo(e,t,n,Nr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await ro(e),n=ys().gapi;return Ir(n,e,"internal-error"),t.open({where:document.body,url:ao(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:so,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=_r(e,"network-request-failed"),s=ys().setTimeout((()=>{r(i)}),io.get());function o(){ys().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Gs(e);return t.register("authEvent",(t=>{Ir(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(go,{type:go},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[go];void 0!==i&&t(!!i),Sr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yi()||ui()||gi()}};var yo="@firebase/auth",bo="0.23.2";class wo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ir(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Eo=At("authIdTokenMaxAge")||300;let So=null;var _o;_o="Browser",Xn(new Wt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ir(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:_o,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bi(_o)},c=new xi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Xn(new Wt("auth-internal",(e=>(e=>new wo(e))(Ni(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),sr(yo,bo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_o)),sr(yo,bo,"esm2017");var To,ko="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Io={},Co=Co||{},xo=ko||self;function No(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ao(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ro="closure_uid_"+(1e9*Math.random()>>>0),Po=0;function Do(e,t,n){return e.call.apply(e.bind,arguments)}function Oo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Lo(e,t,n){return(Lo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Do:Oo).apply(null,arguments)}function Mo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Fo(){this.s=this.s,this.o=this.o}Fo.prototype.s=!1,Fo.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ro)&&e[Ro]||(e[Ro]=++Po))},Fo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Vo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function zo(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(No(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Bo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bo.prototype.h=function(){this.defaultPrevented=!0};var qo=function(){if(!xo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{xo.addEventListener("test",(()=>{}),t),xo.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Ho(e){return/^[\s\xa0]*$/.test(e)}function Wo(){var e=xo.navigator;return e&&(e=e.userAgent)?e:""}function Ko(e){return-1!=Wo().indexOf(e)}function Go(e){return Go[" "](e),e}Go[" "]=function(){};var Qo,Yo,$o=Ko("Opera"),Jo=Ko("Trident")||Ko("MSIE"),Xo=Ko("Edge"),Zo=Xo||Jo,ea=Ko("Gecko")&&!(-1!=Wo().toLowerCase().indexOf("webkit")&&!Ko("Edge"))&&!(Ko("Trident")||Ko("MSIE"))&&!Ko("Edge"),ta=-1!=Wo().toLowerCase().indexOf("webkit")&&!Ko("Edge");function na(){var e=xo.document;return e?e.documentMode:void 0}e:{var ra="",ia=function(){var e=Wo();return ea?/rv:([^\);]+)(\)|;)/.exec(e):Xo?/Edge\/([\d\.]+)/.exec(e):Jo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ta?/WebKit\/(\S+)/.exec(e):$o?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ia&&(ra=ia?ia[1]:""),Jo){var sa=na();if(null!=sa&&sa>parseFloat(ra)){Qo=String(sa);break e}}Qo=ra}if(xo.document&&Jo){var oa=na();Yo=oa||(parseInt(Qo,10)||void 0)}else Yo=void 0;var aa=Yo;function la(e,t){if(Bo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ea){e:{try{Go(t.nodeName);var i=!0;break e}catch(Ye){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ca[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&la.$.h.call(this)}}jo(la,Bo);var ca={2:"touch",3:"pen",4:"mouse"};la.prototype.h=function(){la.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ua="closure_listenable_"+(1e6*Math.random()|0),ha=0;function da(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ha,this.fa=this.ia=!1}function fa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function pa(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ma(e){const t={};for(const n in e)t[n]=e[n];return t}const ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function va(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ga.length;t++)n=ga[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ya(e){this.src=e,this.g={},this.h=0}function ba(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Uo(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(fa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wa(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}ya.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=wa(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new da(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Ea="closure_lm_"+(1e6*Math.random()|0),Sa={};function _a(e,t,n,r,i){if(r&&r.once)return ka(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)_a(e,t[s],n,r,i);return null}return n=Pa(n),e&&e[ua]?e.O(t,n,Ao(r)?!!r.capture:!!r,i):Ta(e,t,n,!1,r,i)}function Ta(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ao(i)?!!i.capture:!!i,a=Aa(e);if(a||(e[Ea]=a=new ya(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Na;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ka(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ka(e,t[s],n,r,i);return null}return n=Pa(n),e&&e[ua]?e.P(t,n,Ao(r)?!!r.capture:!!r,i):Ta(e,t,n,!0,r,i)}function Ia(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ia(e,t[s],n,r,i);else r=Ao(r)?!!r.capture:!!r,n=Pa(n),e&&e[ua]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wa(s=e.g[t],n,r,i))&&(fa(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Aa(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wa(t,n,r,i)),(n=-1<e?t[e]:null)&&Ca(n))}function Ca(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ua])ba(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Aa(t))?(ba(n,e),0==n.h&&(n.src=null,t[Ea]=null)):fa(e)}}}function xa(e){return e in Sa?Sa[e]:Sa[e]="on"+e}function Na(e,t){if(e.fa)e=!0;else{t=new la(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ca(e),e=n.call(r,t)}return e}function Aa(e){return(e=e[Ea])instanceof ya?e:null}var Ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pa(e){return"function"===typeof e?e:(e[Ra]||(e[Ra]=function(t){return e.handleEvent(t)}),e[Ra])}function Da(){Fo.call(this),this.i=new ya(this),this.S=this,this.J=null}function Oa(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Bo(t,e);else if(t instanceof Bo)t.target=t.target||e;else{var i=t;va(t=new Bo(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=La(o,r,!0,t)&&i}if(i=La(o=t.g=e,r,!0,t)&&i,i=La(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=La(o=t.g=n[s],r,!1,t)&&i}function La(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ba(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}jo(Da,Fo),Da.prototype[ua]=!0,Da.prototype.removeEventListener=function(e,t,n,r){Ia(this,e,t,n,r)},Da.prototype.N=function(){if(Da.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fa(n[r]);delete t.g[e],t.h--}}this.J=null},Da.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Da.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ma=xo.JSON.stringify;function ja(){var e=Ha;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Fa=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ua),(e=>e.reset()));class Ua{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Va(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function za(e){xo.setTimeout((()=>{throw e}),0)}let Ba,qa=!1,Ha=new class{constructor(){this.h=this.g=null}add(e,t){const n=Fa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Wa=()=>{const e=xo.Promise.resolve(void 0);Ba=()=>{e.then(Ka)}};var Ka=()=>{for(var e;e=ja();){try{e.h.call(e.g)}catch(n){za(n)}var t=Fa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qa=!1};function Ga(e,t){Da.call(this),this.h=e||1,this.g=t||xo,this.j=Lo(this.qb,this),this.l=Date.now()}function Qa(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ya(e,t,n){if("function"===typeof e)n&&(e=Lo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Lo(e.handleEvent,e)}return 2147483647<Number(t)?-1:xo.setTimeout(e,t||0)}function $a(e){e.g=Ya((()=>{e.g=null,e.i&&(e.i=!1,$a(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}jo(Ga,Da),(To=Ga.prototype).ga=!1,To.T=null,To.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oa(this,"tick"),this.ga&&(Qa(this),this.start()))}},To.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},To.N=function(){Ga.$.N.call(this),Qa(this),delete this.g};class Ja extends Fo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$a(this)}N(){super.N(),this.g&&(xo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xa(e){Fo.call(this),this.h=e,this.g={}}jo(Xa,Fo);var Za=[];function el(e,t,n,r){Array.isArray(n)||(n&&(Za[0]=n.toString()),n=Za);for(var i=0;i<n.length;i++){var s=_a(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function tl(e){pa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ca(e)}),e),e.g={}}function nl(){this.g=!0}function rl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ma(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Xa.prototype.N=function(){Xa.$.N.call(this),tl(this)},Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nl.prototype.Ea=function(){this.g=!1},nl.prototype.info=function(){};var il={},sl=null;function ol(){return sl=sl||new Da}function al(e){Bo.call(this,il.Ta,e)}function ll(e){const t=ol();Oa(t,new al(t))}function cl(e,t){Bo.call(this,il.STAT_EVENT,e),this.stat=t}function ul(e){const t=ol();Oa(t,new cl(t,e))}function hl(e,t){Bo.call(this,il.Ua,e),this.size=t}function dl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xo.setTimeout((function(){e()}),t)}il.Ta="serverreachability",jo(al,Bo),il.STAT_EVENT="statevent",jo(cl,Bo),il.Ua="timingevent",jo(hl,Bo);var fl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ml(){}function gl(e){return e.h||(e.h=e.i())}function vl(){}ml.prototype.h=null;var yl,bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wl(){Bo.call(this,"d")}function El(){Bo.call(this,"c")}function Sl(){}function _l(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Xa(this),this.P=kl,e=Zo?125:void 0,this.V=new Ga(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tl}function Tl(){this.i=null,this.g="",this.h=!1}jo(wl,Bo),jo(El,Bo),jo(Sl,ml),Sl.prototype.g=function(){return new XMLHttpRequest},Sl.prototype.i=function(){return{}},yl=new Sl;var kl=45e3,Il={},Cl={};function xl(e,t,n){e.L=1,e.v=Gl(Bl(t)),e.s=n,e.S=!0,Nl(e,null)}function Nl(e,t){e.G=Date.now(),Dl(e),e.A=Bl(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),oc(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Tl,e.g=au(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ja(Lo(e.Pa,e,e.g),e.O)),el(e.U,e.g,"readystatechange",e.nb),t=e.I?ma(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ll(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Al(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Rl(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Pl(e,n),r==Cl){4==t&&(e.o=4,ul(14),i=!1),rl(e.j,e.m,null,"[Incomplete Response]");break}if(r==Il){e.o=4,ul(15),rl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}rl(e.j,e.m,r,null),Fl(e,r)}Al(e)&&r!=Cl&&r!=Il&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ul(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zc(t),t.M=!0,ul(11))):(rl(e.j,e.m,n,"[Invalid Chunked Response]"),jl(e),Ml(e))}function Pl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Cl:(n=Number(t.substring(n,r)),isNaN(n)?Il:(r+=1)+n>t.length?Cl:(t=t.slice(r,r+n),e.C=r+n,t))}function Dl(e){e.Y=Date.now()+e.P,Ol(e,e.P)}function Ol(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dl(Lo(e.lb,e),t)}function Ll(e){e.B&&(xo.clearTimeout(e.B),e.B=null)}function Ml(e){0==e.l.H||e.J||nu(e.l,e)}function jl(e){Ll(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Qa(e.V),tl(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Fl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||fc(n.i,e)))if(!e.K&&fc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(Qe){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;tu(n),Wc(n)}Xc(n),ul(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=dl(Lo(n.ib,n),6e3));if(1>=dc(n.i)&&n.oa){try{n.oa()}catch(Qe){}n.oa=void 0}}else iu(n,11)}else if((e.K||n.g==e)&&tu(n),!Ho(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(pc(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Kl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=ou(r,r.J?r.pa:null,r.Y),o.K){mc(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ll(a),Dl(a)),r.g=o}else Jc(r);0<n.j.length&&Gc(n)}else"stop"!=c[0]&&"close"!=c[0]||iu(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?iu(n,7):Hc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ll()}catch(Qe){}}function Ul(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(No(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(No(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(No(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(To=_l.prototype).setTimeout=function(e){this.P=e},To.nb=function(e){e=e.target;const t=this.M;t&&3==Fc(e)?t.l():this.Pa(e)},To.Pa=function(e){try{if(e==this.g)e:{const u=Fc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Zo||this.g&&(this.h.h||this.g.ja()||Uc(this.g)))){this.J||4!=u||7==t||ll(),Ll(this);var n=this.g.da();this.ca=n;t:if(Al(this)){var r=Uc(this.g);e="";var i=r.length,s=4==Fc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){jl(this),Ml(this);var o="";break t}this.h.i=new xo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ho(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ul(12),jl(this),Ml(this);break e}rl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fl(this,n)}this.S?(Rl(this,u,o),Zo&&this.i&&3==u&&(el(this.U,this.V,"tick",this.mb),this.V.start())):(rl(this.j,this.m,o,null),Fl(this,o)),4==u&&jl(this),this.i&&!this.J&&(4==u?nu(this.l,this):(this.i=!1,Dl(this)))}else(function(e){const t={};e=(e.g&&2<=Fc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ho(e[r]))continue;var n=Va(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ul(12)):(this.o=0,ul(13)),jl(this),Ml(this)}}}catch(We){}},To.mb=function(){if(this.g){var e=Fc(this.g),t=this.g.ja();this.C<t.length&&(Ll(this),Rl(this,e,t),this.i&&4!=e&&Dl(this))}},To.cancel=function(){this.J=!0,jl(this)},To.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ll(),ul(17)),jl(this),this.o=2,Ml(this)):Ol(this,this.Y-e)};var Vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof zl){this.h=e.h,ql(this,e.j),this.s=e.s,this.g=e.g,Hl(this,e.m),this.l=e.l;var t=e.i,n=new nc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wl(this,n),this.o=e.o}else e&&(t=String(e).match(Vl))?(this.h=!1,ql(this,t[1]||"",!0),this.s=Ql(t[2]||""),this.g=Ql(t[3]||"",!0),Hl(this,t[4]),this.l=Ql(t[5]||"",!0),Wl(this,t[6]||"",!0),this.o=Ql(t[7]||"")):(this.h=!1,this.i=new nc(null,this.h))}function Bl(e){return new zl(e)}function ql(e,t,n){e.j=n?Ql(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Hl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wl(e,t,n){t instanceof nc?(e.i=t,function(e,t){t&&!e.j&&(rc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ic(this,t),oc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Yl(t,ec)),e.i=new nc(t,e.h))}function Kl(e,t,n){e.i.set(t,n)}function Gl(e){return Kl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ql(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$l),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $l(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yl(t,Jl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yl(t,Jl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yl(n,"/"==n.charAt(0)?Zl:Xl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yl(n,tc)),e.join("")};var Jl=/[#\/\?@]/g,Xl=/[#\?:]/g,Zl=/[#\?]/g,ec=/[#\?@]/g,tc=/#/g;function nc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ic(e,t){rc(e),t=ac(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function sc(e,t){return rc(e),t=ac(e,t),e.g.has(t)}function oc(e,t,n){ic(e,t),0<n.length&&(e.i=null,e.g.set(ac(e,t),Vo(n)),e.h+=n.length)}function ac(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(To=nc.prototype).add=function(e,t){rc(this),this.i=null,e=ac(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},To.forEach=function(e,t){rc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},To.ta=function(){rc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},To.Z=function(e){rc(this);let t=[];if("string"===typeof e)sc(this,e)&&(t=t.concat(this.g.get(ac(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},To.set=function(e,t){return rc(this),this.i=null,sc(this,e=ac(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},To.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},To.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var lc=class{constructor(e,t){this.g=e,this.map=t}};function cc(e){this.l=e||uc,xo.PerformanceNavigationTiming?e=0<(e=xo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xo.g&&xo.g.Ka&&xo.g.Ka()&&xo.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uc=10;function hc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dc(e){return e.h?1:e.g?e.g.size:0}function fc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pc(e,t){e.g?e.g.add(t):e.h=t}function mc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Vo(e.i)}cc.prototype.cancel=function(){if(this.i=gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var vc,yc=class{stringify(e){return xo.JSON.stringify(e,void 0)}parse(e){return xo.JSON.parse(e,void 0)}};function bc(){this.g=new yc}function wc(e,t,n){const r=n||"";try{Ul(e,(function(e,n){let i=e;Ao(e)&&(i=Ma(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Ub){throw t.push(r+"type="+encodeURIComponent("_badmap")),Ub}}function Ec(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ye){}}function Sc(e){this.l=e.fc||null,this.j=e.ob||!1}function _c(e,t){Da.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Tc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jo(Sc,ml),Sc.prototype.g=function(){return new _c(this.l,this.j)},Sc.prototype.i=(vc={},function(){return vc}),jo(_c,Da);var Tc=0;function kc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ic(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cc(e)}function Cc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(To=_c.prototype).open=function(e,t){if(this.readyState!=Tc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cc(this)},To.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||xo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},To.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ic(this)),this.readyState=Tc},To.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cc(this)),this.g&&(this.readyState=3,Cc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof xo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},To.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ic(this):Cc(this),3==this.readyState&&kc(this)}},To.Za=function(e){this.g&&(this.response=this.responseText=e,Ic(this))},To.Ya=function(e){this.g&&(this.response=e,Ic(this))},To.ka=function(){this.g&&Ic(this)},To.setRequestHeader=function(e,t){this.v.append(e,t)},To.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},To.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_c.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xc=xo.JSON.parse;function Nc(e){Da.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ac,this.L=this.M=!1}jo(Nc,Da);var Ac="",Rc=/^https?$/i,Pc=["POST","PUT"];function Dc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Oc(e),Mc(e)}function Oc(e){e.F||(e.F=!0,Oa(e,"complete"),Oa(e,"error"))}function Lc(e){if(e.h&&"undefined"!=typeof Co&&(!e.C[1]||4!=Fc(e)||2!=e.da()))if(e.v&&4==Fc(e))Ya(e.La,0,e);else if(Oa(e,"readystatechange"),4==Fc(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Vl)[1]||null;!i&&xo.self&&xo.self.location&&(i=xo.self.location.protocol.slice(0,-1)),r=!Rc.test(i?i.toLowerCase():"")}n=r}if(n)Oa(e,"complete"),Oa(e,"success");else{e.m=6;try{var s=2<Fc(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Oc(e)}}finally{Mc(e)}}}function Mc(e,t){if(e.g){jc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Oa(e,"ready");try{n.onreadystatechange=r}catch(Ub){}}}function jc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(xo.clearTimeout(e.A),e.A=null)}function Fc(e){return e.g?e.g.readyState:0}function Uc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ac:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(nt){return null}}function Vc(e){let t="";return pa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kl(e,t,n))}function Bc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qc(e){this.Ga=0,this.j=[],this.l=new nl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bc("baseRetryDelayMs",5e3,e),this.hb=Bc("retryDelaySeedMs",1e4,e),this.eb=Bc("forwardChannelMaxRetries",2,e),this.xa=Bc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cc(e&&e.concurrentRequestLimit),this.Ja=new bc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hc(e){if(Kc(e),3==e.H){var t=e.W++,n=Bl(e.I);if(Kl(n,"SID",e.K),Kl(n,"RID",t),Kl(n,"TYPE","terminate"),Yc(e,n),(t=new _l(e,e.l,t)).L=2,t.v=Gl(Bl(n)),n=!1,xo.navigator&&xo.navigator.sendBeacon)try{n=xo.navigator.sendBeacon(t.v.toString(),"")}catch(Ke){}!n&&xo.Image&&((new Image).src=t.v,n=!0),n||(t.g=au(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Dl(t)}su(e)}function Wc(e){e.g&&(Zc(e),e.g.cancel(),e.g=null)}function Kc(e){Wc(e),e.u&&(xo.clearTimeout(e.u),e.u=null),tu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xo.clearTimeout(e.m),e.m=null)}function Gc(e){if(!hc(e.i)&&!e.m){e.m=!0;var t=e.Na;Ba||Wa(),qa||(Ba(),qa=!0),Ha.add(t,e),e.C=0}}function Qc(e,t){var n;n=t?t.m:e.W++;const r=Bl(e.I);Kl(r,"SID",e.K),Kl(r,"RID",n),Kl(r,"AID",e.V),Yc(e,r),e.o&&e.s&&zc(r,e.o,e.s),n=new _l(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=$c(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),pc(e.i,n),xl(n,r,t)}function Yc(e,t){e.na&&pa(e.na,(function(e,n){Kl(t,n,e)})),e.h&&Ul({},(function(e,n){Kl(t,n,e)}))}function $c(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Lo(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{wc(a,e,"req"+n+"_")}catch(st){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Jc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ba||Wa(),qa||(Ba(),qa=!0),Ha.add(t,e),e.A=0}}function Xc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=dl(Lo(e.Ma,e),ru(e,e.A)),e.A++,!0)}function Zc(e){null!=e.B&&(xo.clearTimeout(e.B),e.B=null)}function eu(e){e.g=new _l(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Bl(e.wa);Kl(t,"RID","rpc"),Kl(t,"SID",e.K),Kl(t,"AID",e.V),Kl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Kl(t,"TO",e.qa),Kl(t,"TYPE","xmlhttp"),Yc(e,t),e.o&&e.s&&zc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Gl(Bl(t)),n.s=null,n.S=!0,Nl(n,e)}function tu(e){null!=e.v&&(xo.clearTimeout(e.v),e.v=null)}function nu(e,t){var n=null;if(e.g==t){tu(e),Zc(e),e.g=null;var r=2}else{if(!fc(e.i,t))return;n=t.F,mc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Oa(r=ol(),new hl(r,n)),Gc(e)}else Jc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(dc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=dl(Lo(e.Na,e,t),ru(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:iu(e,5);break;case 4:iu(e,10);break;case 3:iu(e,6);break;default:iu(e,2)}}function ru(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function iu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Lo(e.pb,e);n||(n=new zl("//www.google.com/images/cleardot.gif"),xo.location&&"http"==xo.location.protocol||ql(n,"https"),Gl(n)),function(e,t){const n=new nl;if(xo.Image){const r=new Image;r.onload=Mo(Ec,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Mo(Ec,n,r,"TestLoadImage: error",!1,t),r.onabort=Mo(Ec,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Mo(Ec,n,r,"TestLoadImage: timeout",!1,t),xo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ul(2);e.H=0,e.h&&e.h.za(t),su(e),Kc(e)}function su(e){if(e.H=0,e.ma=[],e.h){const t=gc(e.i);0==t.length&&0==e.j.length||(zo(e.ma,t),zo(e.ma,e.j),e.i.i.length=0,Vo(e.j),e.j.length=0),e.h.ya()}}function ou(e,t,n){var r=n instanceof zl?Bl(n):new zl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Hl(r,r.m);else{var i=xo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new zl(null);r&&ql(s,r),t&&(s.g=t),i&&Hl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Kl(r,n,t),Kl(r,"VER",e.ra),Yc(e,r),r}function au(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Nc(new Sc({ob:!0})):new Nc(e.va)).Oa(e.J),t}function lu(){}function cu(){if(Jo&&!(10<=Number(aa)))throw Error("Environmental error: no available transport.")}function uu(e,t){Da.call(this),this.g=new qc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ho(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ho(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fu(this)}function hu(e){wl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function du(){El.call(this),this.status=1}function fu(e){this.g=e}function pu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function gu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(To=Nc.prototype).Oa=function(e){this.M=e},To.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yl.g(),this.C=this.u?gl(this.u):gl(yl),this.g.onreadystatechange=Lo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Ye){return void Dc(this,Ye)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=xo.FormData&&e instanceof xo.FormData,!(0<=Uo(Pc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jc(this),0<this.B&&((this.L=function(e){return Jo&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lo(this.ua,this)):this.A=Ya(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Ye){Dc(this,Ye)}},To.ua=function(){"undefined"!=typeof Co&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oa(this,"timeout"),this.abort(8))},To.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oa(this,"complete"),Oa(this,"abort"),Mc(this))},To.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mc(this,!0)),Nc.$.N.call(this)},To.La=function(){this.s||(this.G||this.v||this.l?Lc(this):this.kb())},To.kb=function(){Lc(this)},To.isActive=function(){return!!this.g},To.da=function(){try{return 2<Fc(this)?this.g.status:-1}catch(vc){return-1}},To.ja=function(){try{return this.g?this.g.responseText:""}catch(vc){return""}},To.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xc(t)}},To.Ia=function(){return this.m},To.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(To=qc.prototype).ra=8,To.H=1,To.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new _l(this,this.l,e);let s=this.s;if(this.U&&(s?(s=ma(s),va(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=$c(this,i,t),Kl(n=Bl(this.I),"RID",e),Kl(n,"CVER",22),this.F&&Kl(n,"X-HTTP-Session-Id",this.F),Yc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Vc(s)))+"&"+t:this.o&&zc(n,this.o,s)),pc(this.i,i),this.bb&&Kl(n,"TYPE","init"),this.P?(Kl(n,"$req",t),Kl(n,"SID","null"),i.aa=!0,xl(i,n,null)):xl(i,n,t),this.H=2}}else 3==this.H&&(e?Qc(this,e):0==this.j.length||hc(this.i)||Qc(this))},To.Ma=function(){if(this.u=null,eu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=dl(Lo(this.jb,this),e)}},To.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ul(10),Wc(this),eu(this))},To.ib=function(){null!=this.v&&(this.v=null,Wc(this),Xc(this),ul(19))},To.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ul(2)):(this.l.info("Failed to ping google.com"),ul(1))},To.isActive=function(){return!!this.h&&this.h.isActive(this)},(To=lu.prototype).Ba=function(){},To.Aa=function(){},To.za=function(){},To.ya=function(){},To.isActive=function(){return!0},To.Va=function(){},cu.prototype.g=function(e,t){return new uu(e,t)},jo(uu,Da),uu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ul(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ou(e,null,e.Y),Gc(e)},uu.prototype.close=function(){Hc(this.g)},uu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ma(e),e=n);t.j.push(new lc(t.fb++,e)),3==t.H&&Gc(t)},uu.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,uu.$.N.call(this)},jo(hu,wl),jo(du,El),jo(fu,lu),fu.prototype.Ba=function(){Oa(this.g,"a")},fu.prototype.Aa=function(e){Oa(this.g,new hu(e))},fu.prototype.za=function(e){Oa(this.g,new du)},fu.prototype.ya=function(){Oa(this.g,"b")},jo(pu,(function(){this.blockSize=-1})),pu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)mu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){mu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){mu(this,r),i=0;break}}this.h=i,this.i+=t},pu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var vu={};function yu(e){return-128<=e&&128>e?function(e,t){var n=vu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new gu([0|e],0>e?-1:0)})):new gu([0|e],0>e?-1:0)}function bu(e){if(isNaN(e)||!isFinite(e))return Eu;if(0>e)return Iu(bu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=wu;return new gu(t,0)}var wu=4294967296,Eu=yu(0),Su=yu(1),_u=yu(16777216);function Tu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ku(e){return-1==e.h}function Iu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new gu(n,~e.h).add(Su)}function Cu(e,t){return e.add(Iu(t))}function xu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Nu(e,t){this.g=e,this.h=t}function Au(e,t){if(Tu(t))throw Error("division by zero");if(Tu(e))return new Nu(Eu,Eu);if(ku(e))return t=Au(Iu(e),t),new Nu(Iu(t.g),Iu(t.h));if(ku(t))return t=Au(e,Iu(t)),new Nu(Iu(t.g),t.h);if(30<e.g.length){if(ku(e)||ku(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Su,r=t;0>=r.X(e);)n=Ru(n),r=Ru(r);var i=Pu(n,1),s=Pu(r,1);for(r=Pu(r,2),n=Pu(n,2);!Tu(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Pu(r,1),n=Pu(n,1)}return t=Cu(e,i.R(t)),new Nu(i,t)}for(i=Eu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=bu(n)).R(t);ku(o)||0<o.X(e);)o=(s=bu(n-=r)).R(t);Tu(s)&&(s=Su),i=i.add(s),e=Cu(e,o)}return new Nu(i,e)}function Ru(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new gu(n,e.h)}function Pu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new gu(i,e.h)}(To=gu.prototype).ea=function(){if(ku(this))return-Iu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:wu+r)*t,t*=wu}return e},To.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Tu(this))return"0";if(ku(this))return"-"+Iu(this).toString(e);for(var t=bu(Math.pow(e,6)),n=this,r="";;){var i=Au(n,t).g,s=((0<(n=Cu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Tu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},To.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},To.X=function(e){return ku(e=Cu(this,e))?-1:Tu(e)?0:1},To.abs=function(){return ku(this)?Iu(this):this},To.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new gu(n,-2147483648&n[n.length-1]?-1:0)},To.R=function(e){if(Tu(this)||Tu(e))return Eu;if(ku(this))return ku(e)?Iu(this).R(Iu(e)):Iu(Iu(this).R(e));if(ku(e))return Iu(this.R(Iu(e)));if(0>this.X(_u)&&0>e.X(_u))return bu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,xu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,xu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,xu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,xu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new gu(n,0)},To.gb=function(e){return Au(this,e).h},To.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new gu(n,this.h&e.h)},To.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new gu(n,this.h|e.h)},To.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new gu(n,this.h^e.h)},cu.prototype.createWebChannel=cu.prototype.g,uu.prototype.send=uu.prototype.u,uu.prototype.open=uu.prototype.m,uu.prototype.close=uu.prototype.close,fl.NO_ERROR=0,fl.TIMEOUT=8,fl.HTTP_ERROR=6,pl.COMPLETE="complete",vl.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",Da.prototype.listen=Da.prototype.O,Nc.prototype.listenOnce=Nc.prototype.P,Nc.prototype.getLastError=Nc.prototype.Sa,Nc.prototype.getLastErrorCode=Nc.prototype.Ia,Nc.prototype.getStatus=Nc.prototype.da,Nc.prototype.getResponseJson=Nc.prototype.Wa,Nc.prototype.getResponseText=Nc.prototype.ja,Nc.prototype.send=Nc.prototype.ha,Nc.prototype.setWithCredentials=Nc.prototype.Oa,pu.prototype.digest=pu.prototype.l,pu.prototype.reset=pu.prototype.reset,pu.prototype.update=pu.prototype.j,gu.prototype.add=gu.prototype.add,gu.prototype.multiply=gu.prototype.R,gu.prototype.modulo=gu.prototype.gb,gu.prototype.compare=gu.prototype.X,gu.prototype.toNumber=gu.prototype.ea,gu.prototype.toString=gu.prototype.toString,gu.prototype.getBits=gu.prototype.D,gu.fromNumber=bu,gu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Iu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=bu(Math.pow(n,8)),i=Eu,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=bu(Math.pow(n,o)),i=i.R(o).add(bu(a))):i=(i=i.R(r)).add(bu(a))}return i};var Du=Io.createWebChannelTransport=function(){return new cu},Ou=Io.getStatEventTarget=function(){return ol()},Lu=Io.ErrorCode=fl,Mu=Io.EventType=pl,ju=Io.Event=il,Fu=Io.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uu=Io.FetchXmlHttpFactory=Sc,Vu=Io.WebChannel=vl,zu=Io.XhrIo=Nc,Bu=Io.Md5=pu,qu=Io.Integer=gu;const Hu="@firebase/firestore";class Wu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wu.UNAUTHENTICATED=new Wu(null),Wu.GOOGLE_CREDENTIALS=new Wu("google-credentials-uid"),Wu.FIRST_PARTY=new Wu("first-party-uid"),Wu.MOCK_USER=new Wu("mock-user");let Ku="9.23.0";const Gu=new tn("@firebase/firestore");function Qu(){return Gu.logLevel}function Yu(e){if(Gu.logLevel<=$t.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Xu);Gu.debug("Firestore (".concat(Ku,"): ").concat(e),...i)}}function $u(e){if(Gu.logLevel<=$t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Xu);Gu.error("Firestore (".concat(Ku,"): ").concat(e),...i)}}function Ju(e){if(Gu.logLevel<=$t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Xu);Gu.warn("Firestore (".concat(Ku,"): ").concat(e),...i)}}function Xu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ku,") INTERNAL ASSERTION FAILED: ")+e;throw $u(t),new Error(t)}function eh(e,t){e||Zu()}function th(e,t){return e}const nh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rh extends Ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ih{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class sh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class oh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wu.UNAUTHENTICATED)))}shutdown(){}}class ah{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lh{constructor(e){this.t=e,this.currentUser=Wu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ih;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ih,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Yu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Yu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ih)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Yu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(eh("string"==typeof t.accessToken),new sh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return eh(null===e||"string"==typeof e),new Wu(e)}}class ch{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Wu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class uh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ch(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Wu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dh{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Yu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Yu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Yu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Yu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(eh("string"==typeof e.token),this.T=e.token,new hh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ph{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=fh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function mh(e,t){return e<t?-1:e>t?1:0}function gh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class vh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rh(nh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rh(nh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rh(nh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rh(nh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vh.fromMillis(Date.now())}static fromDate(e){return vh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new vh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mh(this.nanoseconds,e.nanoseconds):mh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yh(e)}static min(){return new yh(new vh(0,0))}static max(){return new yh(new vh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bh{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zu(),void 0===n?n=e.length-t:n>e.length-t&&Zu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===bh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wh extends bh{construct(e,t,n){return new wh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new rh(nh.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new wh(e)}static emptyPath(){return new wh([])}}const Eh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sh extends bh{construct(e,t,n){return new Sh(e,t,n)}static isValidIdentifier(e){return Eh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new rh(nh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new rh(nh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rh(nh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new rh(nh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sh(t)}static emptyPath(){return new Sh([])}}class _h{constructor(e){this.path=e}static fromPath(e){return new _h(wh.fromString(e))}static fromName(e){return new _h(wh.fromString(e).popFirst(5))}static empty(){return new _h(wh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _h(new wh(e.slice()))}}class Th{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Th.UNKNOWN_ID=-1;function kh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=yh.fromTimestamp(1e9===r?new vh(n+1,0):new vh(n,r));return new Ch(i,_h.empty(),t)}function Ih(e){return new Ch(e.readTime,e.key,-1)}class Ch{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ch(yh.min(),_h.empty(),-1)}static max(){return new Ch(yh.max(),_h.empty(),-1)}}function xh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=_h.comparator(e.documentKey,t.documentKey),0!==n?n:mh(e.largestBatchId,t.largestBatchId))}const Nh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ah{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rh(e){if(e.code!==nh.FAILED_PRECONDITION||e.message!==Nh)throw e;Yu("LocalStore","Unexpectedly lost primary lease")}class Ph{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ph(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ph?t:Ph.resolve(t)}catch(e){return Ph.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ph.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ph.reject(t)}static resolve(e){return new Ph(((t,n)=>{t(e)}))}static reject(e){return new Ph(((t,n)=>{n(e)}))}static waitFor(e){return new Ph(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ph.resolve(!1);for(const n of e)t=t.next((e=>e?Ph.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ph(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ph(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Dh(e){return"IndexedDbTransactionError"===e.name}class Oh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Lh(e){return null==e}function Mh(e){return 0===e&&1/e==-1/0}function jh(e){return"number"==typeof e&&Number.isInteger(e)&&!Mh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Oh.ct=-1;const Fh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vh=Uh;function zh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hh{constructor(e,t){this.comparator=e,this.root=t||Kh.EMPTY}insert(e,t){return new Hh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kh.BLACK,null,null))}remove(e){return new Hh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kh.RED,this.left=null!=r?r:Kh.EMPTY,this.right=null!=i?i:Kh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zu();if(this.right.isRed())throw Zu();const e=this.left.check();if(e!==this.right.check())throw Zu();return e+(this.isRed()?0:1)}}Kh.EMPTY=null,Kh.RED=!0,Kh.BLACK=!1,Kh.EMPTY=new class{constructor(){this.size=0}get key(){throw Zu()}get value(){throw Zu()}get color(){throw Zu()}get left(){throw Zu()}get right(){throw Zu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gh{constructor(e){this.comparator=e,this.data=new Hh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qh(this.data.getIterator())}getIteratorFrom(e){return new Qh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Gh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gh(this.comparator);return t.data=e,t}}class Qh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yh{constructor(e){this.fields=e,e.sort(Sh.comparator)}static empty(){return new Yh([])}unionWith(e){let t=new Gh(Sh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Yh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $h extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $h("Invalid base64 string: "+e):e}}(e);return new Jh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Jh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jh.EMPTY_BYTE_STRING=new Jh("");const Xh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zh(e){if(eh(!!e),"string"==typeof e){let t=0;const n=Xh.exec(e);if(eh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ed(e.seconds),nanos:ed(e.nanos)}}function ed(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function td(e){return"string"==typeof e?Jh.fromBase64String(e):Jh.fromUint8Array(e)}function nd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rd(e){const t=e.mapValue.fields.__previous_value__;return nd(t)?rd(t):t}function id(e){const t=Zh(e.mapValue.fields.__local_write_time__.timestampValue);return new vh(t.seconds,t.nanos)}class sd{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class od{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new od("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}const ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ld(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nd(e)?4:Sd(e)?9007199254740991:10:Zu()}function cd(e,t){if(e===t)return!0;const n=ld(e);if(n!==ld(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return id(e).isEqual(id(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zh(e.timestampValue),r=Zh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return td(e.bytesValue).isEqual(td(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ed(e.geoPointValue.latitude)===ed(t.geoPointValue.latitude)&&ed(e.geoPointValue.longitude)===ed(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ed(e.integerValue)===ed(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ed(e.doubleValue),r=ed(t.doubleValue);return n===r?Mh(n)===Mh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gh(e.arrayValue.values||[],t.arrayValue.values||[],cd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zh(n)!==zh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cd(n[i],r[i])))return!1;return!0}(e,t);default:return Zu()}}function ud(e,t){return void 0!==(e.values||[]).find((e=>cd(e,t)))}function hd(e,t){if(e===t)return 0;const n=ld(e),r=ld(t);if(n!==r)return mh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ed(e.integerValue||e.doubleValue),r=ed(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dd(e.timestampValue,t.timestampValue);case 4:return dd(id(e),id(t));case 5:return mh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=td(e),r=td(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=mh(n[i],r[i]);if(0!==e)return e}return mh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=mh(ed(e.latitude),ed(t.latitude));return 0!==n?n:mh(ed(e.longitude),ed(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=hd(n[i],r[i]);if(e)return e}return mh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ad.mapValue&&t===ad.mapValue)return 0;if(e===ad.mapValue)return 1;if(t===ad.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=mh(r[o],s[o]);if(0!==e)return e;const t=hd(n[r[o]],i[s[o]]);if(0!==t)return t}return mh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Zu()}}function dd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mh(e,t);const n=Zh(e),r=Zh(t),i=mh(n.seconds,r.seconds);return 0!==i?i:mh(n.nanos,r.nanos)}function fd(e){return pd(e)}function pd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?td(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_h.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=pd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(pd(e.fields[i]));return n+"}"}(e.mapValue):Zu();var t,n}function md(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gd(e){return!!e&&"integerValue"in e}function vd(e){return!!e&&"arrayValue"in e}function yd(e){return!!e&&"nullValue"in e}function bd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wd(e){return!!e&&"mapValue"in e}function Ed(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bh(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ed(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ed(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class _d{constructor(e){this.value=e}static empty(){return new _d({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ed(t)}setAll(e){let t=Sh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ed(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bh(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new _d(Ed(this.value))}}function Td(e){const t=[];return Bh(e.fields,((e,n)=>{const r=new Sh([e]);if(wd(n)){const e=Td(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Yh(t)}class kd{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new kd(e,0,yh.min(),yh.min(),yh.min(),_d.empty(),0)}static newFoundDocument(e,t,n,r){return new kd(e,1,t,yh.min(),n,r,0)}static newNoDocument(e,t){return new kd(e,2,t,yh.min(),yh.min(),_d.empty(),0)}static newUnknownDocument(e,t){return new kd(e,3,t,yh.min(),yh.min(),_d.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_d.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_d.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Id{constructor(e,t){this.position=e,this.inclusive=t}}function Cd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?_h.comparator(_h.fromName(o.referenceValue),n.key):hd(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function xd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cd(e.position[n],t.position[n]))return!1;return!0}class Nd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ad(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Rd{}class Pd extends Rd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Vd(e,t,n):"array-contains"===t?new Hd(e,n):"in"===t?new Wd(e,n):"not-in"===t?new Kd(e,n):"array-contains-any"===t?new Gd(e,n):new Pd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new zd(e,n):new Bd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hd(t,this.value)):null!==t&&ld(this.value)===ld(t)&&this.matchesComparison(hd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dd extends Rd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Dd(e,t)}matches(e){return Od(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Od(e){return"and"===e.op}function Ld(e){return Md(e)&&Od(e)}function Md(e){for(const t of e.filters)if(t instanceof Dd)return!1;return!0}function jd(e){if(e instanceof Pd)return e.field.canonicalString()+e.op.toString()+fd(e.value);if(Ld(e))return e.filters.map((e=>jd(e))).join(",");{const t=e.filters.map((e=>jd(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Fd(e,t){return e instanceof Pd?function(e,t){return t instanceof Pd&&e.op===t.op&&e.field.isEqual(t.field)&&cd(e.value,t.value)}(e,t):e instanceof Dd?function(e,t){return t instanceof Dd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Fd(n,t.filters[r])),!0)}(e,t):void Zu()}function Ud(e){return e instanceof Pd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(fd(e.value))}(e):e instanceof Dd?function(e){return e.op.toString()+" {"+e.getFilters().map(Ud).join(" ,")+"}"}(e):"Filter"}class Vd extends Pd{constructor(e,t,n){super(e,t,n),this.key=_h.fromName(n.referenceValue)}matches(e){const t=_h.comparator(e.key,this.key);return this.matchesComparison(t)}}class zd extends Pd{constructor(e,t){super(e,"in",t),this.keys=qd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Bd extends Pd{constructor(e,t){super(e,"not-in",t),this.keys=qd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>_h.fromName(e.referenceValue)))}class Hd extends Pd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vd(t)&&ud(t.arrayValue,this.value)}}class Wd extends Pd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ud(this.value.arrayValue,t)}}class Kd extends Pd{constructor(e,t){super(e,"not-in",t)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ud(this.value.arrayValue,t)}}class Gd extends Pd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ud(this.value.arrayValue,e)))}}class Qd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function Yd(e){return new Qd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function $d(e){const t=th(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>jd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Lh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>fd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>fd(e))).join(",")),t.dt=e}return t.dt}function Jd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ad(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xd(e.startAt,t.startAt)&&xd(e.endAt,t.endAt)}function Xd(e){return _h.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Zd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function ef(e,t,n,r,i,s,o,a){return new Zd(e,t,n,r,i,s,o,a)}function tf(e){return new Zd(e)}function nf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sf(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function of(e){return null!==e.collectionGroup}function af(e){const t=th(e);if(null===t.wt){t.wt=[];const e=sf(t),n=rf(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Nd(e)),t.wt.push(new Nd(Sh.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Nd(Sh.keyField(),e))}}}return t.wt}function lf(e){const t=th(e);if(!t._t)if("F"===t.limitType)t._t=Yd(t.path,t.collectionGroup,af(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of af(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Nd(i.field,t))}const n=t.endAt?new Id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Id(t.startAt.position,t.startAt.inclusive):null;t._t=Yd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function cf(e,t){t.getFirstInequalityField(),sf(e);const n=e.filters.concat([t]);return new Zd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function uf(e,t,n){return new Zd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hf(e,t){return Jd(lf(e),lf(t))&&e.limitType===t.limitType}function df(e){return"".concat($d(lf(e)),"|lt:").concat(e.limitType)}function ff(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ud(e))).join(", "),"]")),Lh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>fd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>fd(e))).join(",")),"Target(".concat(t,")")}(lf(e)),"; limitType=").concat(e.limitType,")")}function pf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_h.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of af(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Cd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,af(e),t))&&!(e.endAt&&!function(e,t,n){const r=Cd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,af(e),t))}(e,t)}function mf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gf(e){return(t,n)=>{let r=!1;for(const i of af(e)){const e=vf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function vf(e,t,n){const r=e.field.isKeyField()?_h.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hd(r,i):Zu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zu()}}class yf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bh(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return qh(this.inner)}size(){return this.innerSize}}const bf=new Hh(_h.comparator);function wf(){return bf}const Ef=new Hh(_h.comparator);function Sf(){let e=Ef;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function _f(e){let t=Ef;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Tf(){return If()}function kf(){return If()}function If(){return new yf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Cf=new Hh(_h.comparator),xf=new Gh(_h.comparator);function Nf(){let e=xf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Af=new Gh(mh);function Rf(){return Af}function Pf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(t)?"-0":t}}function Df(e){return{integerValue:""+e}}function Of(e,t){return jh(t)?Df(t):Pf(e,t)}class Lf{constructor(){this._=void 0}}function Mf(e,t,n){return e instanceof Uf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nd(t)&&(t=rd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vf?zf(e,t):e instanceof Bf?qf(e,t):function(e,t){const n=Ff(e,t),r=Wf(n)+Wf(e.gt);return gd(n)&&gd(e.gt)?Df(r):Pf(e.serializer,r)}(e,t)}function jf(e,t,n){return e instanceof Vf?zf(e,t):e instanceof Bf?qf(e,t):n}function Ff(e,t){return e instanceof Hf?gd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Uf extends Lf{}class Vf extends Lf{constructor(e){super(),this.elements=e}}function zf(e,t){const n=Kf(t);for(const r of e.elements)n.some((e=>cd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bf extends Lf{constructor(e){super(),this.elements=e}}function qf(e,t){let n=Kf(t);for(const r of e.elements)n=n.filter((e=>!cd(e,r)));return{arrayValue:{values:n}}}class Hf extends Lf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Wf(e){return ed(e.integerValue||e.doubleValue)}function Kf(e){return vd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gf{constructor(e,t){this.field=e,this.transform=t}}class Qf{constructor(e,t){this.version=e,this.transformResults=t}}class Yf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yf}static exists(e){return new Yf(void 0,e)}static updateTime(e){return new Yf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Jf{}function Xf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lp(e.key,Yf.none()):new rp(e.key,e.data,Yf.none());{const n=e.data,r=_d.empty();let i=new Gh(Sh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ip(e.key,r,new Yh(i.toArray()),Yf.none())}}function Zf(e,t,n){e instanceof rp?function(e,t,n){const r=e.value.clone(),i=op(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ip?function(e,t,n){if(!$f(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=op(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ep(e,t,n,r){return e instanceof rp?function(e,t,n,r){if(!$f(e.precondition,t))return n;const i=e.value.clone(),s=ap(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ip?function(e,t,n,r){if(!$f(e.precondition,t))return n;const i=ap(e.fieldTransforms,r,t),s=t.data;return s.setAll(sp(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return $f(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function tp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ff(r.transform,e||null);null!=i&&(null===n&&(n=_d.empty()),n.set(r.field,i))}return n||null}function np(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vf&&t instanceof Vf||e instanceof Bf&&t instanceof Bf?gh(e.elements,t.elements,cd):e instanceof Hf&&t instanceof Hf?cd(e.gt,t.gt):e instanceof Uf&&t instanceof Uf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rp extends Jf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ip extends Jf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function op(e,t,n){const r=new Map;eh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,jf(o,a,n[i]))}return r}function ap(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Mf(e,s,t))}return r}class lp extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cp extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class up{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Zf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ep(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ep(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=kf();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Xf(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(yh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Nf())}isEqual(e){return this.batchId===e.batchId&&gh(this.mutations,e.mutations,((e,t)=>np(e,t)))&&gh(this.baseMutations,e.baseMutations,((e,t)=>np(e,t)))}}class hp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){eh(e.mutations.length===n.length);let r=Cf;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new hp(e,t,n,r)}}class dp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class fp{constructor(e,t){this.count=e,this.unchangedNames=t}}var pp,mp;function gp(e){switch(e){default:return Zu();case nh.CANCELLED:case nh.UNKNOWN:case nh.DEADLINE_EXCEEDED:case nh.RESOURCE_EXHAUSTED:case nh.INTERNAL:case nh.UNAVAILABLE:case nh.UNAUTHENTICATED:return!1;case nh.INVALID_ARGUMENT:case nh.NOT_FOUND:case nh.ALREADY_EXISTS:case nh.PERMISSION_DENIED:case nh.FAILED_PRECONDITION:case nh.ABORTED:case nh.OUT_OF_RANGE:case nh.UNIMPLEMENTED:case nh.DATA_LOSS:return!0}}function vp(e){if(void 0===e)return $u("GRPC error has no .code"),nh.UNKNOWN;switch(e){case pp.OK:return nh.OK;case pp.CANCELLED:return nh.CANCELLED;case pp.UNKNOWN:return nh.UNKNOWN;case pp.DEADLINE_EXCEEDED:return nh.DEADLINE_EXCEEDED;case pp.RESOURCE_EXHAUSTED:return nh.RESOURCE_EXHAUSTED;case pp.INTERNAL:return nh.INTERNAL;case pp.UNAVAILABLE:return nh.UNAVAILABLE;case pp.UNAUTHENTICATED:return nh.UNAUTHENTICATED;case pp.INVALID_ARGUMENT:return nh.INVALID_ARGUMENT;case pp.NOT_FOUND:return nh.NOT_FOUND;case pp.ALREADY_EXISTS:return nh.ALREADY_EXISTS;case pp.PERMISSION_DENIED:return nh.PERMISSION_DENIED;case pp.FAILED_PRECONDITION:return nh.FAILED_PRECONDITION;case pp.ABORTED:return nh.ABORTED;case pp.OUT_OF_RANGE:return nh.OUT_OF_RANGE;case pp.UNIMPLEMENTED:return nh.UNIMPLEMENTED;case pp.DATA_LOSS:return nh.DATA_LOSS;default:return Zu()}}(mp=pp||(pp={}))[mp.OK=0]="OK",mp[mp.CANCELLED=1]="CANCELLED",mp[mp.UNKNOWN=2]="UNKNOWN",mp[mp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mp[mp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mp[mp.NOT_FOUND=5]="NOT_FOUND",mp[mp.ALREADY_EXISTS=6]="ALREADY_EXISTS",mp[mp.PERMISSION_DENIED=7]="PERMISSION_DENIED",mp[mp.UNAUTHENTICATED=16]="UNAUTHENTICATED",mp[mp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mp[mp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mp[mp.ABORTED=10]="ABORTED",mp[mp.OUT_OF_RANGE=11]="OUT_OF_RANGE",mp[mp.UNIMPLEMENTED=12]="UNIMPLEMENTED",mp[mp.INTERNAL=13]="INTERNAL",mp[mp.UNAVAILABLE=14]="UNAVAILABLE",mp[mp.DATA_LOSS=15]="DATA_LOSS";class yp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bp}static getOrCreateInstance(){return null===bp&&(bp=new yp),bp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let bp=null;function wp(){return new TextEncoder}const Ep=new qu([4294967295,4294967295],0);function Sp(e){const t=wp().encode(e),n=new Bu;return n.update(t),new Uint8Array(n.digest())}function _p(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qu([n,r],0),new qu([i,s],0)]}class Tp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new kp("Invalid padding: ".concat(t));if(n<0)throw new kp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new kp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new kp("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=qu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(qu.fromNumber(n)));return 1===r.compare(Ep)&&(r=new qu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Sp(e),[n,r]=_p(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Tp(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Sp(e),[n,r]=_p(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class kp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ip{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ip(yh.min(),r,new Hh(mh),wf(),Nf())}}class Cp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cp(n,t,Nf(),Nf(),Nf())}}class xp{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Np{constructor(e,t){this.targetId=e,this.Vt=t}}class Ap{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Rp{constructor(){this.St=0,this.Dt=Op(),this.Ct=Jh.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Nf(),t=Nf(),n=Nf();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zu()}})),new Cp(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Op()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Pp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wf(),this.zt=Dp(),this.Wt=new Hh(mh)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Zu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Xd(s))if(0===r){const e=new _h(s.path);this.Yt(n,e,kd.newNoDocument(e,yh.min()))}else eh(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=yp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=td(i).toUint8Array()}catch(e){if(e instanceof $h)return Ju("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Tp(a,s,o)}catch(e){return Ju(e instanceof kp?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Xd(i.target)){const t=new _h(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,kd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Nf();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Ip(e,t,this.Wt,this.jt,n);return this.jt=wf(),this.zt=Dp(),this.Wt=new Hh(mh),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Rp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Gh(mh),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Yu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Rp),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Dp(){return new Hh(_h.comparator)}function Op(){return new Hh(_h.comparator)}const Lp={asc:"ASCENDING",desc:"DESCENDING"},Mp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jp={and:"AND",or:"OR"};class Fp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(e,t){return e.useProto3Json||Lh(t)?t:{value:t}}function Vp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function zp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bp(e,t){return Vp(e,t.toTimestamp())}function qp(e){return eh(!!e),yh.fromTimestamp(function(e){const t=Zh(e);return new vh(t.seconds,t.nanos)}(e))}function Hp(e,t){return function(e){return new wh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Wp(e){const t=wh.fromString(e);return eh(hm(t)),t}function Kp(e,t){return Hp(e.databaseId,t.path)}function Gp(e,t){const n=Wp(t);if(n.get(1)!==e.databaseId.projectId)throw new rh(nh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rh(nh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _h(Jp(n))}function Qp(e,t){return Hp(e.databaseId,t)}function Yp(e){const t=Wp(e);return 4===t.length?wh.emptyPath():Jp(t)}function $p(e){return new wh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jp(e){return eh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xp(e,t,n){return{name:Kp(e,t),fields:n.value.mapValue.fields}}function Zp(e,t){let n;if(t instanceof rp)n={update:Xp(e,t.key,t.value)};else if(t instanceof lp)n={delete:Kp(e,t.key)};else if(t instanceof ip)n={update:Xp(e,t.key,t.data),updateMask:um(t.fieldMask)};else{if(!(t instanceof cp))return Zu();n={verify:Kp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Uf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Zu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zu()}(e,t.precondition)),n}function em(e,t){return{documents:[Qp(e,t.path)]}}function tm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Qp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Qp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return cm(Dd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:am(e.field),direction:im(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Up(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function nm(e){let t=Yp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){eh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=rm(e);return t instanceof Dd&&Ld(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Nd(lm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Lh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Id(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Id(n,t)}(n.endAt)),ef(t,i,o,s,a,"F",l,c)}function rm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lm(e.unaryFilter.field);return Pd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=lm(e.unaryFilter.field);return Pd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lm(e.unaryFilter.field);return Pd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lm(e.unaryFilter.field);return Pd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zu()}}(e):void 0!==e.fieldFilter?function(e){return Pd.create(lm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dd.create(e.compositeFilter.filters.map((e=>rm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zu()}}(e.compositeFilter.op))}(e):Zu()}function im(e){return Lp[e]}function sm(e){return Mp[e]}function om(e){return jp[e]}function am(e){return{fieldPath:e.canonicalString()}}function lm(e){return Sh.fromServerFormat(e.fieldPath)}function cm(e){return e instanceof Pd?function(e){if("=="===e.op){if(bd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NAN"}};if(yd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NOT_NAN"}};if(yd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:am(e.field),op:sm(e.op),value:e.value}}}(e):e instanceof Dd?function(e){const t=e.getFilters().map((e=>cm(e)));return 1===t.length?t[0]:{compositeFilter:{op:om(e.op),filters:t}}}(e):Zu()}function um(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function hm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class dm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yh.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yh.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jh.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new dm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fm{constructor(e){this.fe=e}}function pm(e){const t=nm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uf(t,t.limit,"L"):t}class mm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ed(e.integerValue));else if("doubleValue"in e){const n=ed(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Mh(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(td(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Sd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Zu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),_h.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}mm.Ve=new mm;class gm{constructor(){this.rn=new vm}addToCollectionParentIndex(e,t){return this.rn.add(t),Ph.resolve()}getCollectionParents(e,t){return Ph.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ph.resolve()}deleteFieldIndex(e,t){return Ph.resolve()}getDocumentsMatchingTarget(e,t){return Ph.resolve(null)}getIndexType(e,t){return Ph.resolve(0)}getFieldIndexes(e,t){return Ph.resolve([])}getNextCollectionGroupToUpdate(e){return Ph.resolve(null)}getMinOffset(e,t){return Ph.resolve(Ch.min())}getMinOffsetFromCollectionGroup(e,t){return Ph.resolve(Ch.min())}updateCollectionGroup(e,t,n){return Ph.resolve()}updateIndexEntries(e,t){return Ph.resolve()}}class vm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gh(wh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gh(wh.comparator)).toArray()}}new Uint8Array(0);class ym{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ym(e,ym.DEFAULT_COLLECTION_PERCENTILE,ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ym.DEFAULT_COLLECTION_PERCENTILE=10,ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ym.DEFAULT=new ym(41943040,ym.DEFAULT_COLLECTION_PERCENTILE,ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ym.DISABLED=new ym(-1,0,0);class bm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bm(0)}static Mn(){return new bm(-1)}}class wm{constructor(){this.changes=new yf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ph.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Em{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Sm{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ep(n.mutation,e,Yh.empty(),vh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Nf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nf();const r=Tf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Sf();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Tf();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Nf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=wf();const s=If(),o=If();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ip)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),ep(o.mutation,t,o.mutation.getFieldMask(),vh.now())):s.set(t.key,Yh.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Em(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=If();let r=new Hh(((e,t)=>e-t)),i=Nf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Yh.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Nf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=kf();l.forEach((e=>{if(!i.has(e)){const r=Xf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ph.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return _h.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):of(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ph.resolve(Tf());let o=-1,a=i;return s.next((t=>Ph.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ph.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Nf()))).next((e=>({batchId:o,changes:_f(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _h(t)).next((e=>{let t=Sf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Sf();return this.indexManager.getCollectionParents(e,r).next((s=>Ph.forEach(s,(s=>{const o=function(e,t){return new Zd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,kd.newInvalidDocument(r)))}));let n=Sf();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&ep(s.mutation,i,Yh.empty(),vh.now()),pf(t,i)&&(n=n.insert(e,i))})),n}))}}class _m{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ph.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:qp(n.createTime)}),Ph.resolve()}getNamedQuery(e,t){return Ph.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:pm(e.bundledQuery),readTime:qp(e.readTime)}}(t)),Ph.resolve()}}class Tm{constructor(){this.overlays=new Hh(_h.comparator),this.ls=new Map}getOverlay(e,t){return Ph.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Tf();return Ph.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Ph.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Ph.resolve()}getOverlaysForCollection(e,t,n){const r=Tf(),i=t.length+1,s=new _h(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ph.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hh(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Tf(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Tf(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Ph.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new dp(t,n));let i=this.ls.get(t);void 0===i&&(i=Nf(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class km{constructor(){this.fs=new Gh(Im.ds),this.ws=new Gh(Im._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Im(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Im(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new _h(new wh([])),n=new Im(t,e),r=new Im(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new _h(new wh([])),n=new Im(t,e),r=new Im(t,e+1);let i=Nf();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Im(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Im{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return _h.comparator(e.key,t.key)||mh(e.As,t.As)}static _s(e,t){return mh(e.As,t.As)||_h.comparator(e.key,t.key)}}class Cm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Gh(Im.ds)}checkEmpty(e){return Ph.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new up(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new Im(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ph.resolve(s)}lookupMutationBatch(e,t){return Ph.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Ph.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ph.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ph.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Im(t,0),r=new Im(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Ph.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gh(mh);return t.forEach((e=>{const t=new Im(e,0),r=new Im(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Ph.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;_h.isDocumentKey(i)||(i=i.child(""));const s=new Im(new _h(i),0);let o=new Gh(mh);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),s),Ph.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){eh(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Ph.forEach(t.mutations,(r=>{const i=new Im(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Im(t,0),r=this.Rs.firstAfterOrEqual(n);return Ph.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ph.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xm{constructor(e){this.Ds=e,this.docs=new Hh(_h.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ph.resolve(n?n.document.mutableCopy():kd.newInvalidDocument(t))}getEntries(e,t){let n=wf();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():kd.newInvalidDocument(e))})),Ph.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=wf();const s=t.path,o=new _h(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||xh(Ih(o),n)<=0||(r.has(o.key)||pf(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ph.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Zu()}Cs(e,t){return Ph.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Nm(this)}getSize(e){return Ph.resolve(this.size)}}class Nm extends wm{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Ph.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Am{constructor(e){this.persistence=e,this.xs=new yf((e=>$d(e)),Jd),this.lastRemoteSnapshotVersion=yh.min(),this.highestTargetId=0,this.Ns=0,this.ks=new km,this.targetCount=0,this.Ms=bm.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Ph.resolve()}getLastRemoteSnapshotVersion(e){return Ph.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ph.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ph.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ph.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new bm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ph.resolve()}updateTargetData(e,t){return this.Fn(t),Ph.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ph.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Ph.waitFor(i).next((()=>r))}getTargetCount(e){return Ph.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Ph.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Ph.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ph.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ph.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Ph.resolve(n)}containsKey(e,t){return Ph.resolve(this.ks.containsKey(t))}}class Rm{constructor(e,t){this.$s={},this.overlays={},this.Os=new Oh(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Am(this),this.indexManager=new gm,this.remoteDocumentCache=function(e){return new xm(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new fm(t),this.qs=new _m(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Cm(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Yu("MemoryPersistence","Starting transaction:",e);const r=new Pm(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Ph.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Pm extends Ah{constructor(e){super(),this.currentSequenceNumber=e}}class Dm{constructor(e){this.persistence=e,this.Qs=new km,this.js=null}static zs(e){return new Dm(e)}get Ws(){if(this.js)return this.js;throw Zu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ph.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ph.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ph.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ph.forEach(this.Ws,(n=>{const r=_h.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,yh.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Ph.or([()=>Ph.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Om{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Nf(),r=Nf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Om(e,t.fromCache,n,r)}}class Lm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(nf(t))return Ph.resolve(null);let n=lf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=uf(t,null,"F"),n=lf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Nf(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,uf(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return nf(t)||r.isEqual(yh.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Qu()<=$t.DEBUG&&Yu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ff(t)),this.Wi(e,s,t,kh(r,-1)))}))}ji(e,t){let n=new Gh(gf(e));return t.forEach(((t,r)=>{pf(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Qu()<=$t.DEBUG&&Yu("QueryEngine","Using full collection scan to execute query:",ff(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ch.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Mm{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Hh(mh),this.Yi=new yf((e=>$d(e)),Jd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function jm(e,t,n,r){return new Mm(e,t,n,r)}async function Fm(e,t){const n=th(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Nf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Um(e){const t=th(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Vm(e,t,n){let r=Nf(),i=Nf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=wf();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(yh.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Yu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function zm(e,t){const n=th(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bm(e,t){const n=th(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Ph.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new dm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function qm(e,t,n){const r=th(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Dh(e))throw e;Yu("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Hm(e,t,n){const r=th(e);let i=yh.min(),s=Nf();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=th(e),i=r.Yi.get(n);return void 0!==i?Ph.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,lf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:yh.min(),n?s:Nf()))).next((e=>(Wm(r,mf(t),e),{documents:e,ir:s})))))}function Wm(e,t,n){let r=e.Xi.get(t)||yh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class Km{constructor(){this.activeTargetIds=Rf()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gm{constructor(){this.Hr=new Km,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Km,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qm{Yr(e){}shutdown(){}}class Ym{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Yu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Yu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $m=null;function Jm(){return null===$m?$m=268435456+Math.round(2147483648*Math.random()):$m++,"0x"+$m.toString(16)}const Xm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const eg="WebChannelConnection";class tg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=Jm(),o=this.To(e,t);Yu("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then((t=>(Yu("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Ju("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ku,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Xm[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Jm();return new Promise(((s,o)=>{const a=new zu;a.setWithCredentials(!0),a.listenOnce(Mu.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Lu.NO_ERROR:const t=a.getResponseJson();Yu(eg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Lu.TIMEOUT:Yu(eg,"RPC '".concat(e,"' ").concat(i," timed out")),o(new rh(nh.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const n=a.getStatus();if(Yu(eg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(nh).indexOf(t)>=0?t:nh.UNKNOWN}(t.status);o(new rh(e,t.message))}else o(new rh(nh.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new rh(nh.UNAVAILABLE,"Connection failed."));break;default:Zu()}}finally{Yu(eg,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Yu(eg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=Jm(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Du(),o=Ou(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Uu({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Yu(eg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Zm({ro:t=>{d?Yu(eg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Yu(eg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Yu(eg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Vu.EventType.OPEN,(()=>{d||Yu(eg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Vu.EventType.CLOSE,(()=>{d||(d=!0,Yu(eg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(u,Vu.EventType.ERROR,(t=>{d||(d=!0,Ju(eg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new rh(nh.UNAVAILABLE,"The operation could not be completed")))})),p(u,Vu.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];eh(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Yu(eg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=pp[e];if(void 0!==t)return vp(t)}(t),i=o.message;void 0===n&&(n=nh.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new rh(n,i)),u.close()}else Yu(eg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(o,ju.STAT_EVENT,(t=>{t.stat===Fu.PROXY?Yu(eg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Fu.NOPROXY&&Yu(eg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function ng(){return"undefined"!=typeof document?document:null}function rg(e){return new Fp(e,!0)}class ig{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Yu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class sg{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ig(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===nh.RESOURCE_EXHAUSTED?($u(t.toString()),$u("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===nh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new rh(nh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Yu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Yu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class og extends sg{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(eh(void 0===t||"string"==typeof t),Jh.fromBase64String(t||"")):(eh(void 0===t||t instanceof Uint8Array),Jh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?nh.UNKNOWN:vp(e.code);return new rh(t,e.message||"")}(o);n=new Ap(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gp(e,r.document.name),s=qp(r.document.updateTime),o=r.document.createTime?qp(r.document.createTime):yh.min(),a=new _d({mapValue:{fields:r.document.fields}}),l=kd.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new xp(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gp(e,r.document),s=r.readTime?qp(r.readTime):yh.min(),o=kd.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xp([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gp(e,r.document),s=r.removedTargetIds||[];n=new xp([],s,i,null)}else{if(!("filter"in t))return Zu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new fp(r,i),o=e.targetId;n=new Np(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return yh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?yh.min():t.readTime?qp(t.readTime):yh.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=$p(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Xd(r)?{documents:em(e,r)}:{query:tm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=zp(e,t.resumeToken);const r=Up(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(yh.min())>0){n.readTime=Vp(e,t.snapshotVersion.toTimestamp());const r=Up(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=$p(this.serializer),t.removeTarget=e,this.Wo(t)}}class ag extends sg{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(eh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(eh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?qp(e.updateTime):qp(t);return n.isEqual(yh.min())&&(n=qp(t)),new Qf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=qp(e.commitTime);return this.listener.cu(n,t)}return eh(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=$p(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Zp(this.serializer,e)))};this.Wo(t)}}class lg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new rh(nh.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rh(nh.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rh(nh.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class cg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?($u(t),this.mu=!1):Yu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ug{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{bg(this)&&(Yu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=th(e);t.vu.add(4),await dg(t),t.bu.set("Unknown"),t.vu.delete(4),await hg(t)}(this))}))})),this.bu=new cg(n,r)}}async function hg(e){if(bg(e))for(const t of e.Ru)await t(!0)}async function dg(e){for(const t of e.Ru)await t(!1)}function fg(e,t){const n=th(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),yg(n)?vg(n):jg(n).Ko()&&mg(n,t))}function pg(e,t){const n=th(e),r=jg(n);n.Au.delete(t),r.Ko()&&gg(n,t),0===n.Au.size&&(r.Ko()?r.jo():bg(n)&&n.bu.set("Unknown"))}function mg(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jg(e).su(t)}function gg(e,t){e.Vu.qt(t),jg(e).iu(t)}function vg(e){e.Vu=new Pp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),jg(e).start(),e.bu.gu()}function yg(e){return bg(e)&&!jg(e).Uo()&&e.Au.size>0}function bg(e){return 0===th(e).vu.size}function wg(e){e.Vu=void 0}async function Eg(e){e.Au.forEach(((t,n)=>{mg(e,t)}))}async function Sg(e,t){wg(e),yg(e)?(e.bu.Iu(t),vg(e)):e.bu.set("Unknown")}async function _g(e,t,n){if(e.bu.set("Online"),t instanceof Ap&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Yu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Tg(e,n)}else if(t instanceof xp?e.Vu.Ht(t):t instanceof Np?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(yh.min()))try{const t=await Um(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Jh.EMPTY_BYTE_STRING,r.snapshotVersion)),gg(e,t);const i=new dm(r.target,t,n,r.sequenceNumber);mg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Yu("RemoteStore","Failed to raise snapshot:",t),await Tg(e,t)}}async function Tg(e,t,n){if(!Dh(t))throw t;e.vu.add(1),await dg(e),e.bu.set("Offline"),n||(n=()=>Um(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Yu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await hg(e)}))}function kg(e,t){return t().catch((n=>Tg(e,n,t)))}async function Ig(e){const t=th(e),n=Fg(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Cg(t);)try{const e=await zm(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,xg(t,e)}catch(e){await Tg(t,e)}Ng(t)&&Ag(t)}function Cg(e){return bg(e)&&e.Eu.length<10}function xg(e,t){e.Eu.push(t);const n=Fg(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Ng(e){return bg(e)&&!Fg(e).Uo()&&e.Eu.length>0}function Ag(e){Fg(e).start()}async function Rg(e){Fg(e).hu()}async function Pg(e){const t=Fg(e);for(const n of e.Eu)t.uu(n.mutations)}async function Dg(e,t,n){const r=e.Eu.shift(),i=hp.from(r,t,n);await kg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ig(e)}async function Og(e,t){t&&Fg(e).ou&&await async function(e,t){if(gp(n=t.code)&&n!==nh.ABORTED){const n=e.Eu.shift();Fg(e).Qo(),await kg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ig(e)}var n}(e,t),Ng(e)&&Ag(e)}async function Lg(e,t){const n=th(e);n.asyncQueue.verifyOperationInProgress(),Yu("RemoteStore","RemoteStore received new credentials");const r=bg(n);n.vu.add(3),await dg(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await hg(n)}async function Mg(e,t){const n=th(e);t?(n.vu.delete(2),await hg(n)):t||(n.vu.add(2),await dg(n),n.bu.set("Unknown"))}function jg(e){return e.Su||(e.Su=function(e,t,n){const r=th(e);return r.fu(),new og(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Eg.bind(null,e),ao:Sg.bind(null,e),nu:_g.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),yg(e)?vg(e):e.bu.set("Unknown")):(await e.Su.stop(),wg(e))}))),e.Su}function Fg(e){return e.Du||(e.Du=function(e,t,n){const r=th(e);return r.fu(),new ag(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Rg.bind(null,e),ao:Og.bind(null,e),au:Pg.bind(null,e),cu:Dg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Ig(e)):(await e.Du.stop(),e.Eu.length>0&&(Yu("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class Ug{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ih,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Ug(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rh(nh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(e,t){if($u("AsyncQueue","".concat(t,": ").concat(e)),Dh(e))return new rh(nh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class zg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||_h.comparator(t.key,n.key):(e,t)=>_h.comparator(e.key,t.key),this.keyedMap=Sf(),this.sortedSet=new Hh(this.comparator)}static emptySet(e){return new zg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new zg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Bg{constructor(){this.Cu=new Hh(_h.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Zu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class qg{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new qg(e,t,zg.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hg{constructor(){this.Nu=void 0,this.listeners=[]}}class Wg{constructor(){this.queries=new yf((e=>df(e)),hf),this.onlineState="Unknown",this.ku=new Set}}async function Kg(e,t){const n=th(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Hg),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Vg(e,"Initialization of query '".concat(ff(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&$g(n)}async function Gg(e,t){const n=th(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Qg(e,t){const n=th(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&$g(n)}function Yg(e,t,n){const r=th(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function $g(e){e.ku.forEach((e=>{e.next()}))}class Jg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=qg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Xg{constructor(e){this.key=e}}class Zg{constructor(e){this.key=e}}class ev{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Nf(),this.mutatedKeys=Nf(),this.tc=gf(e),this.ec=new zg(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Bg,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=pf(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new qg(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Bg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Nf(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Zg(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Xg(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Nf();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return qg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class tv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class nv{constructor(e){this.key=e,this.fc=!1}}class rv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new yf((e=>df(e)),hf),this._c=new Map,this.mc=new Set,this.gc=new Hh(_h.comparator),this.yc=new Map,this.Ic=new km,this.Tc={},this.Ec=new Map,this.Ac=bm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function iv(e,t){const n=Sv(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await Bm(n.localStore,lf(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await sv(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&fg(n.remoteStore,e)}return i}async function sv(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Hm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return gv(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await Hm(e.localStore,t,!0),o=new ev(t,s.ir),a=o.sc(s.documents),l=Cp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);gv(e,n,c.cc);const u=new tv(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function ov(e,t){const n=th(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!hf(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),pg(n.remoteStore,r.targetId),pv(n,r.targetId)})).catch(Rh)):(pv(n,r.targetId),await qm(n.localStore,r.targetId,!0))}async function av(e,t){const n=th(e);try{const e=await function(e,t){const n=th(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Jh.EMPTY_BYTE_STRING,yh.min()).withLastLimboFreeSnapshotVersion(yh.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(e,c))}));let a=wf(),l=Nf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Vm(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(yh.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Ph.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(eh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?eh(r.fc):e.removedDocuments.size>0&&(eh(r.fc),r.fc=!1))})),await bv(n,e,t)}catch(e){await Rh(e)}}function lv(e,t,n){const r=th(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=th(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&$g(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cv(e,t,n){const r=th(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Hh(_h.comparator);e=e.insert(s,kd.newNoDocument(s,yh.min()));const n=Nf().add(s),i=new Ip(yh.min(),new Map,new Hh(mh),e,n);await av(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),yv(r)}else await qm(r.localStore,t,!1).then((()=>pv(r,t,n))).catch(Rh)}async function uv(e,t){const n=th(e),r=t.batch.batchId;try{const e=await function(e,t){const n=th(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Ph.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);eh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Nf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);fv(n,r,null),dv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bv(n,e)}catch(e){await Rh(e)}}async function hv(e,t,n){const r=th(e);try{const e=await function(e,t){const n=th(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(eh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);fv(r,t,n),dv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bv(r,e)}catch(n){await Rh(n)}}function dv(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function fv(e,t,n){const r=th(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function pv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||mv(e,t)}))}function mv(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(pg(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),yv(e))}function gv(e,t,n){for(const r of n)r instanceof Xg?(e.Ic.addReference(r.key,t),vv(e,r)):r instanceof Zg?(Yu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||mv(e,r.key)):Zu()}function vv(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Yu("SyncEngine","New document in limbo: "+n),e.mc.add(r),yv(e))}function yv(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new _h(wh.fromString(t)),r=e.Ac.next();e.yc.set(r,new nv(n)),e.gc=e.gc.insert(n,r),fg(e.remoteStore,new dm(lf(tf(n.path)),r,"TargetPurposeLimboResolution",Oh.ct))}}async function bv(e,t,n){const r=th(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Om.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=th(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ph.forEach(t,(t=>Ph.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ph.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Dh(e))throw e;Yu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function wv(e,t){const n=th(e);if(!n.currentUser.isEqual(t)){Yu("SyncEngine","User change. New user:",t.toKey());const e=await Fm(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new rh(nh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await bv(n,e.er)}}function Ev(e,t){const n=th(e),r=n.yc.get(t);if(r&&r.fc)return Nf().add(r.key);{let e=Nf();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Sv(e){const t=th(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=av.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ev.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cv.bind(null,t),t.dc.nu=Qg.bind(null,t.eventManager),t.dc.Pc=Yg.bind(null,t.eventManager),t}function _v(e){const t=th(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hv.bind(null,t),t}class Tv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return jm(this.persistence,new Lm,e.initialUser,this.serializer)}createPersistence(e){return new Rm(Dm.zs,this.serializer)}createSharedClientState(e){return new Gm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>lv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=wv.bind(null,this.syncEngine),await Mg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wg}createDatastore(e){const t=rg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new tg(r));var r;return function(e,t,n,r){return new lg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>lv(this.syncEngine,e,0),s=Ym.D()?new Ym:new Qm,new ug(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new rv(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=th(e);Yu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await dg(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):$u("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Cv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Wu.UNAUTHENTICATED,this.clientId=ph.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Yu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Yu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rh(nh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ih;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Ub){const n=Vg(Ub,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function xv(e,t){e.asyncQueue.verifyOperationInProgress(),Yu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Fm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Nv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Rv(e);Yu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Lg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Lg(t.remoteStore,n))),e._onlineComponents=t}function Av(e){return"FirebaseError"===e.name?e.code===nh.FAILED_PRECONDITION||e.code===nh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Rv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Yu("FirestoreClient","Using user provided OfflineComponentProvider");try{await xv(e,e._uninitializedComponentsProvider._offline)}catch(Ub){const n=Ub;if(!Av(n))throw n;Ju("Error using user provided cache. Falling back to memory cache: "+n),await xv(e,new Tv)}}else Yu("FirestoreClient","Using default OfflineComponentProvider"),await xv(e,new Tv);return e._offlineComponents}async function Pv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Yu("FirestoreClient","Using user provided OnlineComponentProvider"),await Nv(e,e._uninitializedComponentsProvider._online)):(Yu("FirestoreClient","Using default OnlineComponentProvider"),await Nv(e,new kv))),e._onlineComponents}function Dv(e){return Pv(e).then((e=>e.syncEngine))}async function Ov(e){const t=await Pv(e),n=t.eventManager;return n.onListen=iv.bind(null,t.syncEngine),n.onUnlisten=ov.bind(null,t.syncEngine),n}function Lv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ih;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Iv({next:n=>{t.enqueueAndForget((()=>Gg(e,o))),n.fromCache&&"server"===r.source?i.reject(new rh(nh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Jg(n,s,{includeMetadataChanges:!0,Ku:!0});return Kg(e,o)}(await Ov(e),e.asyncQueue,t,n,r))),r.promise}function Mv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const jv=new Map;function Fv(e,t,n){if(!n)throw new rh(nh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Uv(e){if(!_h.isDocumentKey(e))throw new rh(nh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vv(e){if(_h.isDocumentKey(e))throw new rh(nh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function zv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Zu()}function Bv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rh(nh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zv(e);throw new rh(nh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class qv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new rh(nh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rh(nh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new rh(nh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rh(nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new rh(nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new rh(nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Hv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rh(nh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rh(nh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new oh;switch(e.type){case"firstParty":return new uh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rh(nh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jv.get(e);t&&(Yu("ComponentProvider","Removing Datastore"),jv.delete(e),t.terminate())}(this),Promise.resolve()}}function Wv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Bv(e,Hv))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Wu.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Tt(JSON.stringify({alg:"none",type:"JWT"})),Tt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rh(nh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Wu(s)}e._authCredentials=new ah(new sh(t,n))}}class Kv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kv(this.firestore,e,this._key)}}class Gv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Gv(this.firestore,e,this._query)}}class Qv extends Gv{constructor(e,t,n){super(e,t,tf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kv(this.firestore,null,new _h(e))}withConverter(e){return new Qv(this.firestore,e,this._path)}}function Yv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ht(e),Fv("collection","path",t),e instanceof Hv){const n=wh.fromString(t,...r);return Vv(n),new Qv(e,null,n)}{if(!(e instanceof Kv||e instanceof Qv))throw new rh(nh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(wh.fromString(t,...r));return Vv(n),new Qv(e.firestore,null,n)}}class $v{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ig(this,"async_queue_retry"),this.Xc=()=>{const e=ng();e&&Yu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new ih;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Dh(e))throw e;Yu("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw $u("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Ug.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&Zu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Jv extends Hv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new $v,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zv(this),this._firestoreClient.terminate()}}function Xv(e){return e._firestoreClient||Zv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new sd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Mv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Cv(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ey{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ey(Jh.fromBase64String(e))}catch(e){throw new rh(nh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ey(Jh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ty{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new rh(nh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ny{constructor(e){this._methodName=e}}class ry{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rh(nh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rh(nh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mh(this._lat,e._lat)||mh(this._long,e._long)}}const iy=/^__.*__$/;class sy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ip(e,this.data,this.fieldMask,t,this.fieldTransforms):new rp(e,this.data,t,this.fieldTransforms)}}function oy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zu()}}class ay{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(oy(this.ca)&&iy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ly{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rg(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ay({ca:e,methodName:t,ga:n,path:Sh.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cy(e){const t=e._freezeSettings(),n=rg(e._databaseId);return new ly(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uy(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);gy("Data must be an object, but it was:",o,r);const a=py(r,o);let l,c;if(s.merge)l=new Yh(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=vy(t,r,n);if(!o.contains(i))throw new rh(nh.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ey(e,i)||e.push(i)}l=new Yh(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new sy(new _d(a),l,c)}class hy extends ny{_toFieldTransform(e){return new Gf(e.path,new Uf)}isEqual(e){return e instanceof hy}}function dy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fy(n,e.ya(r?4:3,t))}function fy(e,t){if(my(e=Ht(e)))return gy("Unsupported field value:",t,e),py(e,t);if(e instanceof ny)return function(e,t){if(!oy(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=fy(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Of(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=vh.fromDate(e);return{timestampValue:Vp(t.serializer,n)}}if(e instanceof vh){const n=new vh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vp(t.serializer,n)}}if(e instanceof ry)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ey)return{bytesValue:zp(t.serializer,e._byteString)};if(e instanceof Kv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Hp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(zv(e)))}(e,t)}function py(e,t){const n={};return qh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bh(e,((e,r)=>{const i=fy(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function my(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof vh||e instanceof ry||e instanceof ey||e instanceof Kv||e instanceof ny)}function gy(e,t,n){if(!my(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=zv(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function vy(e,t,n){if((t=Ht(t))instanceof ty)return t._internalPath;if("string"==typeof t)return by(e,t);throw wy("Field path arguments must be of type string or ",e,!1,void 0,n)}const yy=new RegExp("[~\\*/\\[\\]]");function by(e,t,n){if(t.search(yy)>=0)throw wy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ty(...t.split("."))._internalPath}catch(r){throw wy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wy(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new rh(nh.INVALID_ARGUMENT,a+e+l)}function Ey(e,t){return e.some((e=>e.isEqual(t)))}class Sy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ty("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _y extends Sy{data(){return super.data()}}function Ty(e,t){return"string"==typeof t?by(e,t):t instanceof ty?t._internalPath:t._delegate._internalPath}function ky(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rh(nh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class Cy extends Iy{}function xy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Iy&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Ry)).length,n=e.filter((e=>e instanceof Ny)).length;if(t>1||t>0&&n>0)throw new rh(nh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Ny extends Cy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ny(e,t,n)}_apply(e){const t=this._parse(e);return Oy(e._query,t),new Gv(e.firestore,e.converter,cf(e._query,t))}_parse(e){const t=cy(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new rh(nh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Dy(o,s);const t=[];for(const n of o)t.push(Py(r,e,n));a={arrayValue:{values:t}}}else a=Py(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Dy(o,s),a=dy(n,"where",o,"in"===s||"not-in"===s);return Pd.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ay(e,t,n){const r=t,i=Ty("where",e);return Ny._create(i,r,n)}class Ry extends Iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ry(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Dd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Oy(n,i),n=cf(n,i)}(e._query,t),new Gv(e.firestore,e.converter,cf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Py(e,t,n){if("string"==typeof(n=Ht(n))){if(""===n)throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!of(t)&&-1!==n.indexOf("/"))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(wh.fromString(n));if(!_h.isDocumentKey(r))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return md(e,new _h(r))}if(n instanceof Kv)return md(e,n._key);throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zv(n),"."))}function Dy(e,t){if(!Array.isArray(e)||0===e.length)throw new rh(nh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Oy(e,t){if(t.isInequality()){const n=sf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=rf(e);null!==i&&Ly(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rh(nh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rh(nh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Ly(e,t,n){if(!n.isEqual(t))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class My{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ld(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ed(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(td(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bh(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ry(ed(e.latitude),ed(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const t=Zh(e);return new vh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=wh.fromString(e);eh(hm(n));const r=new od(n.get(1),n.get(3)),i=new _h(n.popFirst(5));return r.isEqual(t)||$u("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function jy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Fy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uy extends Sy{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ty("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Vy extends Uy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class zy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Fy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Vy(this._firestore,this._userDataWriter,n.key,n,new Fy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rh(nh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Vy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Fy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Vy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:By(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function By(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zu()}}class qy extends My{constructor(e){super(),this.firestore=e}convertBytes(e){return new ey(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kv(this.firestore,null,t)}}function Hy(e){e=Bv(e,Gv);const t=Bv(e.firestore,Jv),n=Xv(t),r=new qy(t);return ky(e._query),Lv(n,e._query).then((n=>new zy(t,r,e,n)))}function Wy(e,t){const n=Bv(e.firestore,Jv),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ht(e),1===arguments.length&&(t=ph.A()),Fv("doc","path",t),e instanceof Hv){const n=wh.fromString(t,...r);return Uv(n),new Kv(e,null,new _h(n))}{if(!(e instanceof Kv||e instanceof Qv))throw new rh(nh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(wh.fromString(t,...r));return Uv(n),new Kv(e.firestore,e instanceof Qv?e.converter:null,new _h(n))}}(e),i=jy(e.converter,t);return Ky(n,[uy(cy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Yf.exists(!1))]).then((()=>r))}function Ky(e,t){return function(e,t){const n=new ih;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=_v(e);try{const e=await function(e,t){const n=th(e),r=vh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Nf());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=wf(),l=Nf();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=tp(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new ip(e.key,t,Td(t.value.mapValue),Yf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:_f(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Hh(mh)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await bv(r,e.changes),await Ig(r.remoteStore)}catch(e){const t=Vg(e,"Failed to persist write");n.reject(t)}}(await Dv(e),t,n))),n.promise}(Xv(e),t)}function Gy(){return new hy("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ku=e}(nr),Xn(new Wt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Jv(new lh(e.getProvider("auth-internal")),new dh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rh(nh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),sr(Hu,"3.13.0",e),sr(Hu,"3.13.0","esm2017")}();const Qy=rr({apiKey:"AIzaSyCECLHhTm_kgqzp64yNyvgCdxyM-fswHCQ",authDomain:"winners-dream.firebaseapp.com",projectId:"winners-dream",storageBucket:"winners-dream.firebasestorage.app",messagingSenderId:"933664569375",appId:"1:933664569375:web:0053aec6c5e4ccc680fd2a",measurementId:"G-F4EGJMPYYW"}),Yy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir();const t=Zn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Zn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(jt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Sr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vo,persistence:[Ns,ds,ps]}),r=At("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Eo)return;const r=null===t||void 0===t?void 0:t.token;So!==r&&(So=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Ht(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){Ht(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=xt("auth");return s&&Ri(n,"http://".concat(s)),n}(Qy),$y=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Zn("object"==typeof e?e:ir(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=xt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Wv(r,...e)}return r}(Qy),Jy=[{title:"Cr\xe9ation de Logo",description:"Nous concevons des logos professionnels qui refl\xe8tent votre identit\xe9 de marque.",slug:"creation-logo"},{title:"Digitalisation",slug:"digitalisation",icon:"\ud83d\udcbb",description:"Passez au num\xe9rique avec nos solutions compl\xe8tes pour moderniser votre entreprise. Nous vous accompagnons dans la gestion digitale, la pr\xe9sence en ligne, et l'automatisation de vos processus.",features:["Cr\xe9ation d\u2019outils de gestion (inventaire, facturation, etc.)","Transformation de vos documents physiques en outils num\xe9riques","Mise en place de CRM et ERP personnalis\xe9s","Formation \xe0 l\u2019usage des outils digitaux","Optimisation de vos workflows internes","Accompagnement \xe0 la transition digitale"],benefits:["Gain de temps et d\u2019efficacit\xe9","R\xe9duction des erreurs humaines","Acc\xe8s aux donn\xe9es en temps r\xe9el","Am\xe9lioration de la prise de d\xe9cision"],price:"Sur devis \u2014 selon les besoins sp\xe9cifiques"},{title:"Publicit\xe9 en ligne",slug:"publicite-en-ligne",icon:"\ud83d\udce3",description:"Augmentez la visibilit\xe9 de votre entreprise gr\xe2ce \xe0 des campagnes publicitaires cibl\xe9es sur Facebook, Instagram et Google Ads. Nous optimisons votre budget pour obtenir les meilleurs r\xe9sultats.",features:["Cr\xe9ation et gestion de campagnes Facebook & Instagram","Publicit\xe9 Google Ads (Search, Display, YouTube)","Segmentation d\u2019audience pr\xe9cise et cibl\xe9e","Design de visuels attractifs et textes engageants","Rapports de performance et recommandations","Suivi et optimisation hebdomadaire"],benefits:["Plus de trafic vers votre site web","G\xe9n\xe9ration de prospects qualifi\xe9s","Am\xe9lioration de la notori\xe9t\xe9 de votre marque","Retour sur investissement mesurable"],price:"\xc0 partir de 149\u20ac / mois"},{title:"D\xe9veloppement d\u2019Application Mobile",slug:"developpement-app-mobile",icon:"\ud83d\udcf1",description:"Nous concevons des applications mobiles sur mesure pour Android et iOS, adapt\xe9es \xe0 vos objectifs business et aux attentes de vos utilisateurs.",features:["Applications natives Android et iOS","D\xe9veloppement multiplateforme avec React Native","Interface utilisateur moderne et intuitive","Connexion \xe0 des bases de donn\xe9es en temps r\xe9el (ex: Firebase)","Fonctionnalit\xe9s avanc\xe9es : g\xe9olocalisation, notifications push, paiements, etc.","Publication sur App Store et Google Play"],benefits:["Pr\xe9sence mobile professionnelle","Am\xe9lioration de l'exp\xe9rience client","Acc\xe8s aux fonctionnalit\xe9s natives des t\xe9l\xe9phones","Extension de votre business 24h/24"],price:"\xc0 partir de 500 \u20ac \u2014 selon la complexit\xe9 de l\u2019application"},{slug:"llc",title:"Cr\xe9ation d\u2019entreprise (LLC)",icon:"\ud83c\udfe2",description:"Lancez votre soci\xe9t\xe9 \xe0 responsabilit\xe9 limit\xe9e (LLC) aux \xc9tats-Unis en toute simplicit\xe9 avec WinnerDream. \nNous vous accompagnons dans toutes les d\xe9marches.",features:["\u2705 Cr\xe9ation de la LLC dans l\u2019\xc9tat de votre choix (Delaware, Wyoming, etc.)","\ud83d\udcc4 R\xe9daction et remise du certificat de formation (Articles of Organization)","\ud83e\uddfe Obtention du EIN (Employer Identification Number) aupr\xe8s de l\u2019IRS","\ud83d\udcc1 R\xe9daction du Operating Agreement personnalis\xe9","\ud83d\udcec Adresse professionnelle aux \xc9tats-Unis (optionnelle)","\ud83d\udc68\u200d\u2696\ufe0f Assistance pour l\u2019ouverture de compte bancaire (Mercury, Wise, etc.)","\ud83d\udcbc Conseils sur les obligations fiscales et comptables","\ud83d\udcde Support client en fran\xe7ais par e-mail ou WhatsApp"]},{title:"Cr\xe9ation de Site Web",slug:"creation-site-web",icon:"\ud83d\udcbb",description:"Nous concevons des sites web modernes, rapides et sur mesure, adapt\xe9s \xe0 vos objectifs, qu\u2019ils soient informatifs, commerciaux ou communautaires.",features:["Site vitrine, e-commerce ou sur mesure","Design responsive (ordinateur, mobile, tablette)","R\xe9f\xe9rencement naturel SEO de base inclus","Pages personnalis\xe9es : accueil, services, contact, etc.","Int\xe9gration d\u2019outils : newsletter, blog, formulaire","Possibilit\xe9 de paiement en ligne, r\xe9servation, etc."],benefits:["Am\xe9liorez votre visibilit\xe9 en ligne","Attirez plus de clients gr\xe2ce \xe0 un site professionnel","Cr\xe9ez une image cr\xe9dible et moderne","Votre site \xe9volue avec votre entreprise"],price:"\xc0 partir de 250 \u20ac \u2014 selon le type de site et les fonctionnalit\xe9s souhait\xe9es. Devis personnalis\xe9 disponible.",subscriptionOption:{available:!0,description:"Vous pouvez aussi opter pour un abonnement mensuel \xe0 petit prix, incluant la cr\xe9ation du site, l\u2019h\xe9bergement, la maintenance et les mises \xe0 jour. Vous devenez pleinement propri\xe9taire du site apr\xe8s 12 mois.",plans:[{name:"Standard",price:"29 \u20ac/mois",duration:"12 mois minimum"},{name:"Pro",price:"59 \u20ac/mois",duration:"12 mois minimum"},{name:"Premium",price:"99 \u20ac/mois",duration:"12 mois minimum"}]}}],Xy=[{type:"standard",title:"Site Standard",description:"Site vitrine avec fonction de r\xe9servation.",price:29,features:["Page de pr\xe9sentation","Formulaire de contact","R\xe9servation"],slug:"site-standard"},{type:"pro",title:"Site Pro",description:"Site avec vente de produits ou services.",price:59,features:["Catalogue","Paiement en ligne","Gestion de commandes"],slug:"site-pro"},{type:"premium",title:"Site Premium",description:"Site complet sur mesure pour les entreprises.",price:99,features:["D\xe9veloppement personnalis\xe9","Support prioritaire","SEO avanc\xe9"],slug:"site-premium"}];var Zy=n(579);const eb=function(){const e=ne();return(0,i.useEffect)((()=>{const t=Yy.onAuthStateChanged((t=>{t||e("/login")}));return()=>t()}),[e]),(0,Zy.jsxs)("div",{className:"home-container",children:[(0,Zy.jsxs)("header",{className:"home-header",children:[(0,Zy.jsx)("h1",{children:"Nos Services WinnerDream"}),(0,Zy.jsx)("p",{children:"Boostez votre business avec nos offres"})]}),(0,Zy.jsxs)("section",{className:"services",children:[(0,Zy.jsx)("h2",{children:"Services"}),(0,Zy.jsx)("div",{className:"service-list",children:Array.isArray(Jy)&&Jy.slice().reverse().map((e=>(0,Zy.jsxs)("div",{className:"service",children:[(0,Zy.jsxs)("h3",{children:[e.icon," ",e.title]}),(0,Zy.jsx)("p",{children:e.description}),(0,Zy.jsx)(Re,{to:"/services/".concat(e.slug),className:"mt-2 inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Explorer"})]},e.slug)))})]}),(0,Zy.jsxs)("section",{className:"services",children:[(0,Zy.jsx)("h2",{children:"Nos Offres de Sites Web"}),(0,Zy.jsx)("div",{className:"service-list",children:Array.isArray(Xy)&&Xy.map((e=>(0,Zy.jsxs)("div",{className:"service",children:[(0,Zy.jsx)("h3",{children:e.title}),(0,Zy.jsxs)("p",{className:"text-green-600 font-semibold",children:[e.price," \u20ac/mois"]}),(0,Zy.jsx)("ul",{children:Array.isArray(e.features)&&e.features.map(((e,t)=>(0,Zy.jsx)("li",{children:e},t)))}),(0,Zy.jsx)(Re,{to:"/website-plans/".concat(e.type),className:"mt-2 inline-block bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Explorer"})]},e.type)))})]})]})},tb=n.p+"static/media/logo.1cf343fbc6640f4be634.png";const nb=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),a=ne();return(0,Zy.jsxs)("div",{className:"login-container",children:[(0,Zy.jsx)("img",{src:tb,alt:"WinnerDream Logo",className:"logo"}),(0,Zy.jsx)("h2",{children:"Bienvenue sur WinnerDream"}),(0,Zy.jsx)("p",{children:"Connecte-toi pour g\xe9rer ton business en ligne"}),(0,Zy.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await function(e,t,n){return os(Ht(e),Wi.credential(t,n))}(Yy,e,n),a("/home")}catch(r){o("Email ou mot de passe incorrect")}},className:"login-form",children:[(0,Zy.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0}),(0,Zy.jsx)("input",{type:"password",placeholder:"Mot de passe",value:n,onChange:e=>r(e.target.value),required:!0}),s&&(0,Zy.jsx)("p",{className:"error",children:s}),(0,Zy.jsx)("button",{type:"submit",children:"Se connecter"})]}),(0,Zy.jsxs)("p",{children:["Mot de passe oubli\xe9 ? ",(0,Zy.jsx)("a",{href:"/forgot-password",children:"Clique ici"})]})]})};const rb=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),h=ne();return(0,Zy.jsxs)("div",{className:"login-container",children:[(0,Zy.jsx)("img",{src:tb,alt:"WinnerDream Logo",className:"logo"}),(0,Zy.jsx)("h2",{children:"Cr\xe9er un compte WinnerDream"}),(0,Zy.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),n!==s)return l("Les mots de passe ne correspondent pas.");try{const t=await async function(e,t,n){var r;const i=Ni(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ii(i,s,"signUpPassword");o=Xi(i,e)}else o=Xi(i,s).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Ii(i,s,"signUpPassword");return Xi(i,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await Zi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(Yy,e,n);await ls(t.user),u("Inscription r\xe9ussie. V\xe9rifie ton email."),setTimeout((()=>h("/login")),3e3)}catch(r){l("Erreur lors de l'inscription.")}},className:"login-form",children:[(0,Zy.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:e,onChange:e=>t(e.target.value)}),(0,Zy.jsx)("input",{type:"password",placeholder:"Mot de passe",required:!0,value:n,onChange:e=>r(e.target.value)}),(0,Zy.jsx)("input",{type:"password",placeholder:"Confirme le mot de passe",required:!0,value:s,onChange:e=>o(e.target.value)}),a&&(0,Zy.jsx)("p",{className:"error",children:a}),c&&(0,Zy.jsx)("p",{className:"success",children:c}),(0,Zy.jsx)("button",{type:"submit",children:"Cr\xe9er mon compte"})]}),(0,Zy.jsxs)("p",{children:["D\xe9j\xe0 un compte ? ",(0,Zy.jsx)("a",{href:"/login",children:"Connecte-toi ici"})]})]})};const ib=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)("");return(0,Zy.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[(0,Zy.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Mot de passe oubli\xe9 ?"}),(0,Zy.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(""),o("");try{await async function(e,t,n){var r;const i=Ni(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ii(i,s,"getOobCode",!0);n&&as(i,e,n),await Fi(i,e)}else n&&as(i,s,n),await Fi(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Ii(i,s,"getOobCode",!0);n&&as(i,e,n),await Fi(i,e)}}))}(Yy,e),r("\ud83d\udce7 Un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9 \xe0 votre adresse email.")}catch(n){o("\u274c Erreur : "+n.message)}},children:[(0,Zy.jsx)("label",{className:"block mb-2",children:"Votre email"}),(0,Zy.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded mb-4"}),(0,Zy.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded",children:"Envoyer le lien de r\xe9initialisation"})]}),n&&(0,Zy.jsx)("p",{className:"mt-4 text-green-600",children:n}),s&&(0,Zy.jsx)("p",{className:"mt-4 text-red-600",children:s})]})};const sb=function(){const[e,t]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{const e=Yy.currentUser;if(!e)return;const n=await Kr(e,!0),r=await fetch("http://localhost:4242/user-subscription",{headers:{Authorization:"Bearer ".concat(n)}}),i=await r.json();t(i.subscriptions||[])}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration :",e),wt.error("Erreur de chargement des abonnements")}})()}),[]),(0,Zy.jsxs)("div",{className:"p-6 bg-white rounded shadow",children:[(0,Zy.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Mes Abonnements"}),0===e.length?(0,Zy.jsx)("p",{children:"Aucun abonnement actif pour l\u2019instant."}):(0,Zy.jsxs)("table",{className:"w-full text-left border",children:[(0,Zy.jsx)("thead",{children:(0,Zy.jsxs)("tr",{children:[(0,Zy.jsx)("th",{className:"border px-4 py-2",children:"Plan"}),(0,Zy.jsx)("th",{className:"border px-4 py-2",children:"Statut"}),(0,Zy.jsx)("th",{className:"border px-4 py-2",children:"Prochain Paiement"})]})}),(0,Zy.jsx)("tbody",{children:e.map(((e,t)=>(0,Zy.jsxs)("tr",{children:[(0,Zy.jsx)("td",{className:"border px-4 py-2",children:e.type}),(0,Zy.jsx)("td",{className:"border px-4 py-2",children:e.status}),(0,Zy.jsx)("td",{className:"border px-4 py-2",children:e.nextPaymentDate?new Date(e.nextPaymentDate).toLocaleDateString():"N/A"})]},t)))})]})]})};const ob=function(e){let{user:t}=e;return(0,Zy.jsxs)("div",{children:[(0,Zy.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Mes sites web"}),(0,Zy.jsx)("p",{className:"text-gray-600",children:"Aucun site actif pour l\u2019instant."})]})};const ab=function(e){let{user:t}=e;const[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{const e=xy(Yv($y,"appointments"),Ay("userId","==",t.uid)),n=await Hy(e);r(n.docs.map((e=>e.data())))})()}),[t]),(0,Zy.jsxs)("div",{children:[(0,Zy.jsx)("h2",{children:"Mes Rendez-vous"}),(0,Zy.jsx)("ul",{children:n.map(((e,t)=>(0,Zy.jsxs)("li",{children:[e.date," - ",e.service]},t)))})]})};const lb=function(e){let{user:t}=e;return(0,Zy.jsxs)("div",{children:[(0,Zy.jsx)("h2",{children:"Mes Formulaires"}),(0,Zy.jsx)("p",{children:"Acc\xe8s aux formulaires de demande, assistance, etc."})]})};const cb=function(e){let{user:t}=e;const[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{const e=xy(Yv($y,"notifications"),Ay("userId","==",t.uid)),n=await Hy(e);r(n.docs.map((e=>e.data())))})()}),[t]),(0,Zy.jsxs)("div",{children:[(0,Zy.jsx)("h2",{children:"Mes Notifications"}),(0,Zy.jsx)("ul",{children:n.map(((e,t)=>(0,Zy.jsx)("li",{children:e.message},t)))})]})};const ub=function(){const[e,t]=(0,i.useState)(null),n=ne();return(0,i.useEffect)((()=>{const e=Yy.onAuthStateChanged((e=>{e?t(e):n("/login")}));return()=>e()}),[n]),e?(0,Zy.jsx)("div",{className:"min-h-screen bg-gray-100 p-4",children:(0,Zy.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Zy.jsxs)("header",{className:"mb-6",children:[(0,Zy.jsxs)("h1",{className:"text-3xl font-bold",children:["Bienvenue, ",e.email]}),(0,Zy.jsx)("p",{className:"text-gray-600",children:"Voici un aper\xe7u complet de vos services."})]}),(0,Zy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[(0,Zy.jsx)("div",{className:"bg-white p-4 rounded shadow",children:(0,Zy.jsx)(sb,{user:e})}),(0,Zy.jsx)("div",{className:"bg-white p-4 rounded shadow",children:(0,Zy.jsx)(ob,{user:e})}),(0,Zy.jsx)("div",{className:"bg-white p-4 rounded shadow",children:(0,Zy.jsx)(ab,{user:e})}),(0,Zy.jsx)("div",{className:"bg-white p-4 rounded shadow",children:(0,Zy.jsx)(lb,{user:e})}),(0,Zy.jsx)("div",{className:"bg-white p-4 rounded shadow",children:(0,Zy.jsx)(cb,{user:e})})]}),(0,Zy.jsx)("div",{className:"text-center mt-8",children:(0,Zy.jsx)("button",{onClick:()=>async function(e){try{if(!(await Hy(xy(Yv($y,"subscriptions"),Ay("userId","==",e)))).empty)return void console.log("\u2139\ufe0f Donn\xe9es d\xe9j\xe0 pr\xe9sentes.");await Wy(Yv($y,"subscriptions"),{userId:e,plan:"Standard",startDate:Gy(),status:"active"}),await Wy(Yv($y,"appointments"),{userId:e,date:"2025-06-01",time:"10:00",service:"Consultation"}),await Wy(Yv($y,"forms"),{userId:e,type:"Assistance",message:"Je veux de l\u2019aide pour mon site web.",submittedAt:Gy()});for(let t=1;t<=3;t++)await Wy(Yv($y,"notifications"),{userId:e,title:"Bienvenue ".concat(t),message:"Merci d\u2019avoir rejoint WinnerDream ".concat(t),createdAt:Gy()});console.log("\u2705 Donn\xe9es test ajout\xe9es avec succ\xe8s.")}catch(t){console.error("\u274c Erreur :",t)}}(e.uid),className:"bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700",children:"\u2795 Ajouter des donn\xe9es de test"})})]})}):(0,Zy.jsx)("div",{className:"dashboard-loading",children:(0,Zy.jsx)("p",{children:"Chargement de votre tableau de bord..."})})};var hb,db="basil",fb="https://js.stripe.com",pb="".concat(fb,"/").concat(db,"/stripe.js"),mb=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,gb=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,vb="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",yb=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(pb).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},bb=null,wb=null,Eb=null,Sb=function(e){return null!==bb?bb:(bb=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(vb),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e,t=document.querySelectorAll('script[src^="'.concat(fb,'"]')),n=0;n<t.length;n++){var r=t[n];if(e=r.src,mb.test(e)||gb.test(e))return r}return null}();if(r&&e)console.warn(vb);else if(r){if(r&&null!==Eb&&null!==wb){var i;r.removeEventListener("load",Eb),r.removeEventListener("error",wb),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=yb(e)}}else r=yb(e);Eb=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),wb=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",Eb),r.addEventListener("error",wb)}catch(s){return void n(s)}else t(null)}))).catch((function(e){return bb=null,Promise.reject(e)}))},_b=!1,Tb=function(){return hb||(hb=Sb(null).catch((function(e){return hb=null,Promise.reject(e)})))};Promise.resolve().then((function(){return Tb()})).catch((function(e){_b||console.warn(e)}));var kb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_b=!0;var r=Date.now();return Tb().then((function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),i=function(e){return 3===e?"v3":e}(e.version),s=db;r&&i!==s&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})}(o,n),o}(e,t,r)}))};kb("pk_test_51RSsIUBMiNbSQeLqSaxKjx74Iks6EUyDxCc1BQ6uBExDjIdvFf4bzrH0fI6goopSg8ZLhysNmjsyhJwAxfhcrNbd00Wt9LVtcx");const Ib=function(){const{slug:e}=re(),t=ne(),n=Jy.find((t=>t.slug===e));return n?(0,Zy.jsxs)("div",{className:"min-h-screen p-6 bg-white",children:[(0,Zy.jsxs)("h1",{className:"text-4xl font-bold mb-4 flex items-center gap-2 text-gray-800",children:[n.icon," ",n.title]}),(0,Zy.jsx)("p",{className:"text-gray-600 mb-6 text-lg",children:n.description}),n.features&&(0,Zy.jsxs)("div",{className:"bg-gray-100 p-4 rounded-md mb-6",children:[(0,Zy.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Fonctionnalit\xe9s incluses :"}),(0,Zy.jsx)("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:n.features.map(((e,t)=>(0,Zy.jsx)("li",{children:e},t)))})]}),(0,Zy.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,Zy.jsx)(Re,{to:"/dashboard",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded",children:"Prendre un rendez-vous"}),(0,Zy.jsx)(Re,{to:"/dashboard",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded",children:"Obtenir un devis"})]})]}):(t("/home"),null)};const Cb=function(){const[e,t]=(0,i.useState)(!1),n=ne(),r=async()=>{await Yy.signOut(),n("/login")};return(0,Zy.jsxs)("nav",{className:"bg-white shadow-md px-4 py-3 flex justify-between items-center relative z-50",children:[(0,Zy.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Zy.jsx)("img",{src:tb,alt:"Logo",className:"w-10 h-10 object-contain"}),(0,Zy.jsx)("span",{className:"font-bold text-lg text-green-700",children:"WinnerDream"})]}),(0,Zy.jsxs)("ul",{className:"hidden md:flex gap-6 text-gray-700 font-medium",children:[(0,Zy.jsx)("li",{children:(0,Zy.jsx)(Re,{to:"/home",className:"hover:text-green-600",children:"Accueil"})}),(0,Zy.jsx)("li",{children:(0,Zy.jsx)(Re,{to:"/dashboard",className:"hover:text-green-600",children:"Dashboard"})}),(0,Zy.jsx)("li",{children:(0,Zy.jsx)(Re,{to:"/shop",className:"hover:text-green-600",children:"Shop"})}),(0,Zy.jsx)("li",{children:(0,Zy.jsx)("button",{onClick:r,className:"text-red-600 hover:underline",children:"D\xe9connexion"})})]}),(0,Zy.jsx)("button",{className:"md:hidden",onClick:()=>t(!e),children:(0,Zy.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,Zy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),e&&(0,Zy.jsxs)("ul",{className:"absolute top-full left-0 w-full bg-white flex flex-col items-center gap-4 py-4 shadow-md md:hidden",children:[(0,Zy.jsx)("li",{children:(0,Zy.jsx)(Re,{to:"/home",onClick:()=>t(!1),children:"Accueil"})}),(0,Zy.jsx)("li",{children:(0,Zy.jsx)(Re,{to:"/dashboard",onClick:()=>t(!1),children:"Dashboard"})}),(0,Zy.jsx)("li",{children:(0,Zy.jsx)(Re,{to:"/shop",onClick:()=>t(!1),children:"Shop"})}),(0,Zy.jsx)("li",{children:(0,Zy.jsx)("button",{onClick:r,className:"text-red-600",children:"D\xe9connexion"})})]})]})};const xb=function(){return(0,Zy.jsxs)("footer",{className:"text-center text-sm text-gray-500 py-4 border-t mt-10",children:["\xa9 ",(new Date).getFullYear()," WinnerDream. Tous droits r\xe9serv\xe9s."]})};const Nb=function(){return(0,Zy.jsxs)(Zy.Fragment,{children:[(0,Zy.jsx)(Cb,{}),(0,Zy.jsxs)("div",{style:{textAlign:"center",padding:"100px 20px"},children:[(0,Zy.jsx)("h1",{style:{fontSize:"2.5rem",color:"#4CAF50"},children:"\u2714\ufe0f Paiement confirm\xe9"}),(0,Zy.jsxs)("p",{children:["Merci pour votre abonnement \xe0 ",(0,Zy.jsx)("strong",{children:"WinnerSite"}),"."]}),(0,Zy.jsx)("p",{children:"Votre site est en cours de pr\xe9paration. Vous recevrez une notification tr\xe8s bient\xf4t."}),(0,Zy.jsx)(Re,{to:"/dashboard",children:(0,Zy.jsx)("button",{style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Acc\xe9der au tableau de bord"})}),(0,Zy.jsxs)("p",{style:{marginTop:"30px"},children:["Besoin d\u2019aide ? ",(0,Zy.jsx)(Re,{to:"/contact",children:"Contactez notre \xe9quipe"})]})]}),(0,Zy.jsx)(xb,{})]})};const Ab=function(){return(0,Zy.jsxs)(Zy.Fragment,{children:[(0,Zy.jsx)(Cb,{}),(0,Zy.jsxs)("div",{style:{textAlign:"center",padding:"100px 20px"},children:[(0,Zy.jsx)("h1",{children:"Abonnement annul\xe9"}),(0,Zy.jsx)("p",{children:"Vous avez annul\xe9 le processus de paiement."}),(0,Zy.jsx)("p",{children:"Aucun montant ne vous a \xe9t\xe9 factur\xe9."}),(0,Zy.jsx)(Re,{to:"/plans",children:(0,Zy.jsx)("button",{style:{marginTop:"20px"},children:"Retour aux offres"})})]}),(0,Zy.jsx)(xb,{})]})};const Rb=function(){return(0,Zy.jsxs)(Zy.Fragment,{children:[(0,Zy.jsx)(Cb,{}),(0,Zy.jsxs)("div",{style:{textAlign:"center",padding:"100px 20px"},children:[(0,Zy.jsx)("h1",{style:{fontSize:"4rem"},children:"404"}),(0,Zy.jsx)("p",{style:{fontSize:"1.5rem"},children:"Oups... cette page n'existe pas."}),(0,Zy.jsx)(Re,{to:"/",children:(0,Zy.jsx)("button",{style:{marginTop:"20px"},children:"Retour \xe0 l\u2019accueil"})})]}),(0,Zy.jsx)(xb,{})]})};const Pb=[{id:"ebook-1",category:"E-book",name:"Guide Marketing 2025",price:19.99,type:"Num\xe9rique",description:"Apprenez les strat\xe9gies digitales de demain."},{id:"template-1",category:"Template",name:"Site Vitrine Pro",price:49.99,type:"Num\xe9rique",description:"Un template professionnel pour pr\xe9senter vos services."},{id:"cm-1",category:"Community Management",name:"Pack R\xe9seaux Sociaux - 1 Mois",price:199.99,type:"Service",description:"G\xe9rez vos r\xe9seaux sociaux avec un expert pendant 1 mois."},{id:"tshirt-1",category:"T-shirt",name:"T-shirt WinnerDream",price:24.99,type:"Physique",description:"T-shirt en coton avec branding WinnerDream."},{id:"mug-1",category:"Mug",name:"Mug WinnerDream",price:14.99,type:"Physique",description:"Mug personnalis\xe9 pour votre bureau."}];const Db=function(){return(0,Zy.jsxs)("div",{className:"p-6",children:[(0,Zy.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Boutique WinnerDream"}),(0,Zy.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Pb.map((e=>(0,Zy.jsxs)("div",{className:"border p-4 rounded shadow",children:[(0,Zy.jsx)("h2",{className:"text-xl font-semibold mb-2",children:e.name}),(0,Zy.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[e.category," - ",e.type]}),(0,Zy.jsx)("p",{className:"text-gray-700 mb-2",children:e.description}),(0,Zy.jsxs)("p",{className:"text-green-600 font-bold text-lg mb-4",children:[e.price," \u20ac"]}),(0,Zy.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Acheter"})]},e.id)))})]})};kb("pk_test_51RSsIUBMiNbSQeLqSaxKjx74Iks6EUyDxCc1BQ6uBExDjIdvFf4bzrH0fI6goopSg8ZLhysNmjsyhJwAxfhcrNbd00Wt9LVtcx");const Ob=function(){const{type:e}=re(),t=ne(),n=Xy.find((t=>t.type===e)),[r,s]=(0,i.useState)(!1);return n?(0,Zy.jsxs)("div",{className:"min-h-screen p-6 bg-white",children:[(0,Zy.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:n.title}),(0,Zy.jsx)("p",{className:"text-gray-600 italic mb-4",children:n.description}),(0,Zy.jsxs)("p",{className:"text-green-700 font-bold text-2xl mb-6",children:[n.price," \u20ac / mois"]}),(0,Zy.jsxs)("div",{className:"bg-gray-100 p-4 rounded-md mb-6",children:[(0,Zy.jsx)("h2",{className:"font-semibold mb-2 text-lg",children:"Ce plan inclut :"}),(0,Zy.jsx)("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:n.features.map(((e,t)=>(0,Zy.jsx)("li",{children:e},t)))}),n.bonus&&(0,Zy.jsxs)("p",{className:"mt-3 text-sm text-blue-700 font-medium",children:["\ud83c\udf81 Bonus : ",n.bonus]})]}),(0,Zy.jsx)("div",{className:"mb-4",children:(0,Zy.jsxs)("label",{className:"flex items-center text-sm",children:[(0,Zy.jsx)("input",{type:"checkbox",checked:r,onChange:e=>s(e.target.checked),className:"mr-2"}),"J\u2019accepte les"," ",(0,Zy.jsx)(Re,{to:"/terms-and-conditions?returnTo=".concat(e),className:"underline text-blue-600",target:"_blank",children:"conditions g\xe9n\xe9rales"}),"."]})}),(0,Zy.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,Zy.jsx)(Re,{to:"/dashboard",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded",children:"Prendre un rendez-vous"}),(0,Zy.jsx)("button",{onClick:()=>(async e=>{if(r)try{const t=Yy.currentUser;if(!t)return void alert("Tu dois \xeatre connect\xe9.");const n=await Kr(t,!0),r=await fetch("http://localhost:4242/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({planCode:e,userId:t.uid})});console.log("\u27a1\ufe0f R\xe9ponse brute Stripe :",r);const i=await r.json();console.log("\ud83d\udce9 R\xe9ponse Stripe backend :",i),console.log("\ud83d\udce9 R\xe9ponse Stripe backend :",i),i.url?window.location.href=i.url:alert("Erreur : aucune URL Stripe retourn\xe9e.")}catch(t){console.error("\u274c Stripe error:",t),alert("Erreur lors de la souscription.")}else alert("Veuillez accepter les conditions g\xe9n\xe9rales.")})(n.stripePriceId),disabled:!r,className:"px-6 py-2 rounded text-white ".concat(r?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"),children:"Souscrire"})]})]}):(t("/home"),null)};const Lb=function(){const[e]=Oe(),t=ne(),n=e.get("returnTo");return(0,Zy.jsxs)("div",{className:"min-h-screen p-6 bg-white text-gray-800",children:[(0,Zy.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Conditions G\xe9n\xe9rales d\u2019Utilisation"}),(0,Zy.jsxs)("div",{className:"space-y-4 text-sm leading-relaxed",children:[(0,Zy.jsx)("p",{children:"En utilisant les services de WinnerDream, vous acceptez les conditions suivantes. Ces conditions r\xe9gissent l\u2019utilisation de nos produits, abonnements et fonctionnalit\xe9s."}),(0,Zy.jsx)("h2",{className:"text-xl font-semibold mt-6",children:"1. Abonnements"}),(0,Zy.jsx)("p",{children:"L\u2019abonnement mensuel est renouvel\xe9 automatiquement. Vous pouvez l\u2019annuler \xe0 tout moment via votre tableau de bord."}),(0,Zy.jsx)("h2",{className:"text-xl font-semibold mt-6",children:"2. Paiement"}),(0,Zy.jsx)("p",{children:"Tous les paiements sont g\xe9r\xe9s de mani\xe8re s\xe9curis\xe9e via Stripe. Aucune donn\xe9e bancaire n\u2019est stock\xe9e sur nos serveurs."}),(0,Zy.jsx)("h2",{className:"text-xl font-semibold mt-6",children:"3. Propri\xe9t\xe9"}),(0,Zy.jsx)("p",{children:"Vous restez propri\xe9taire de vos donn\xe9es. Si vous souscrivez un plan de site web, vous pouvez demander un transfert \xe0 tout moment."}),(0,Zy.jsx)("h2",{className:"text-xl font-semibold mt-6",children:"4. Assistance"}),(0,Zy.jsx)("p",{children:"Notre \xe9quipe est disponible pour vous assister sur les aspects techniques et commerciaux via votre espace client."}),(0,Zy.jsx)("h2",{className:"text-xl font-semibold mt-6",children:"5. R\xe9siliation"}),(0,Zy.jsx)("p",{children:"Vous pouvez mettre fin \xe0 votre abonnement \xe0 tout moment. Aucun remboursement n\u2019est effectu\xe9 pour les p\xe9riodes d\xe9j\xe0 entam\xe9es."})]}),(0,Zy.jsxs)("div",{className:"mt-8 flex gap-4",children:[(0,Zy.jsx)("button",{onClick:()=>{t(n?"/website-plans/".concat(n):"/home")},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded",children:"\u2705 J\u2019ai lu et j\u2019accepte"}),(0,Zy.jsx)("button",{onClick:()=>t(-1),className:"bg-gray-400 hover:bg-gray-500 text-white px-6 py-2 rounded",children:"\u2b05 Retour"})]})]})},Mb=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!0),[s,o]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=Yy.onAuthStateChanged((e=>{o(!!e),r(!1)}));return()=>e()}),[]),n?(0,Zy.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Zy.jsx)("p",{children:"V\xe9rification de l\u2019authentification..."})}):s?t:(0,Zy.jsx)(ye,{to:"/login",replace:!0})};const jb=function(e){let{children:t}=e;return(0,Zy.jsxs)(Zy.Fragment,{children:[(0,Zy.jsx)(Cb,{}),(0,Zy.jsx)("main",{className:"pt-4",children:t})]})};const Fb=function(){return(0,Zy.jsxs)(xe,{children:[(0,Zy.jsxs)(Ee,{children:[(0,Zy.jsx)(be,{path:"/",element:(0,Zy.jsx)(ye,{to:"/login",replace:!0})}),(0,Zy.jsx)(be,{path:"/login",element:(0,Zy.jsx)(nb,{})}),(0,Zy.jsx)(be,{path:"/register",element:(0,Zy.jsx)(rb,{})}),(0,Zy.jsx)(be,{path:"/forgot-password",element:(0,Zy.jsx)(ib,{})}),(0,Zy.jsx)(be,{path:"/terms-and-conditions",element:(0,Zy.jsx)(Lb,{})}),(0,Zy.jsx)(be,{path:"/home",element:(0,Zy.jsx)(Mb,{children:(0,Zy.jsx)(jb,{children:(0,Zy.jsx)(eb,{})})})}),(0,Zy.jsx)(be,{path:"/dashboard",element:(0,Zy.jsx)(Mb,{children:(0,Zy.jsx)(jb,{children:(0,Zy.jsx)(ub,{})})})}),(0,Zy.jsx)(be,{path:"/shop",element:(0,Zy.jsx)(Mb,{children:(0,Zy.jsx)(jb,{children:(0,Zy.jsx)(Db,{})})})}),(0,Zy.jsx)(be,{path:"/services/:slug",element:(0,Zy.jsx)(Mb,{children:(0,Zy.jsx)(jb,{children:(0,Zy.jsx)(Ib,{})})})}),(0,Zy.jsx)(be,{path:"/website-plans/:type",element:(0,Zy.jsx)(Mb,{children:(0,Zy.jsx)(jb,{children:(0,Zy.jsx)(Ob,{})})})}),(0,Zy.jsx)(be,{path:"/subscribe-success",element:(0,Zy.jsx)(Nb,{})}),(0,Zy.jsx)(be,{path:"/subscribe-cancel",element:(0,Zy.jsx)(Ab,{})}),(0,Zy.jsx)(be,{path:"*",element:(0,Zy.jsx)(Rb,{})})]}),(0,Zy.jsx)(ut,{position:"top-right",autoClose:3e3})]})};o.createRoot(document.getElementById("root")).render((0,Zy.jsx)(i.StrictMode,{children:(0,Zy.jsx)(Fb,{})}))})();
//# sourceMappingURL=main.fc3bc5f5.js.map